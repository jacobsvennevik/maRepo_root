{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/features/quiz/components/QuizWizard/steps/GenerateQuizStep.tsx"],"sourcesContent":["/**\n * GenerateQuizStep\n */\n\nimport React from 'react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  Brain,\n  CheckCircle2,\n  AlertCircle,\n  Loader2,\n  Sparkles,\n  File,\n} from 'lucide-react';\n\ninterface GenerateQuizStepProps {\n  form: any;\n  method: 'auto' | 'files' | 'manual';\n  uploadedFiles: File[];\n  selectedExistingFileIds: (string | number)[];\n  projectFiles: any[];\n  isGenerating: boolean;\n  generatedQuiz: any;\n  error: string | null;\n  onGenerate: () => void;\n}\n\nexport const GenerateQuizStep: React.FC<GenerateQuizStepProps> = ({\n  form,\n  method,\n  uploadedFiles,\n  selectedExistingFileIds,\n  projectFiles,\n  isGenerating,\n  generatedQuiz,\n  error,\n  onGenerate,\n}) => {\n  const { getValues } = form;\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"text-center space-y-2\">\n        <h2 className=\"text-xl font-semibold text-slate-900\">Generate Quiz</h2>\n        <p className=\"text-sm text-slate-600\">Review your settings and generate the quiz</p>\n      </div>\n\n      <div className=\"space-y-4\">\n        <Card>\n          <CardContent className=\"p-4\">\n            <h3 className=\"text-lg font-semibold mb-3\">Configuration Summary</h3>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"font-medium\">Title:</span>\n                <span className=\"ml-2\">{getValues('title') || 'Untitled Quiz'}</span>\n              </div>\n              <div>\n                <span className=\"font-medium\">Topic:</span>\n                <span className=\"ml-2\">{getValues('topic') || 'General'}</span>\n              </div>\n              <div>\n                <span className=\"font-medium\">Difficulty:</span>\n                <span className=\"ml-2\">{getValues('difficulty')}</span>\n              </div>\n              <div>\n                <span className=\"font-medium\">Questions:</span>\n                <span className=\"ml-2\">{getValues('max_questions')}</span>\n              </div>\n              <div>\n                <span className=\"font-medium\">Time Limit:</span>\n                <span className=\"ml-2\">{getValues('time_limit_sec') ? Math.round(getValues('time_limit_sec')! / 60) : 'No limit'} min</span>\n              </div>\n              <div>\n                <span className=\"font-medium\">Method:</span>\n                <span className=\"ml-2 capitalize\">{method}</span>\n              </div>\n            </div>\n            \n            {method === 'files' && (\n              <div className=\"mt-3\">\n                <span className=\"font-medium text-sm\">Source Files:</span>\n                <div className=\"mt-1 space-y-1\">\n                  {uploadedFiles.map((file, index) => (\n                    <div key={index} className=\"text-xs text-slate-600\">\n                      ðŸ“„ {file.name}\n                    </div>\n                  ))}\n                  {selectedExistingFileIds.map(fileId => {\n                    const file = projectFiles.find((f: any) => f.id === fileId);\n                    return file ? (\n                      <div key={fileId} className=\"text-xs text-slate-600\">\n                        ðŸ“„ {file.name}\n                      </div>\n                    ) : null;\n                  })}\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <div className=\"text-center\">\n          <Button \n            onClick={onGenerate}\n            disabled={isGenerating}\n            size=\"lg\"\n            className=\"w-full\"\n          >\n            {isGenerating ? (\n              <>\n                <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                Generating Quiz...\n              </>\n            ) : (\n              <>\n                <Sparkles className=\"h-4 w-4 mr-2\" />\n                Generate Quiz\n              </>\n            )}\n          </Button>\n          \n          {isGenerating && (\n            <div className=\"mt-4\">\n              <Progress value={33} className=\"w-full\" />\n              <p className=\"text-sm text-slate-600 mt-2\">\n                AI is analyzing your content and creating questions...\n              </p>\n            </div>\n          )}\n        </div>\n\n        {error && (\n          <Alert variant=\"destructive\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertDescription>{error}</AlertDescription>\n          </Alert>\n        )}\n\n        {generatedQuiz && (\n          <Alert>\n            <CheckCircle2 className=\"h-4 w-4\" />\n            <AlertDescription>\n              âœ… Quiz generated successfully! {generatedQuiz.questions?.length || 0} questions created.\n            </AlertDescription>\n          </Alert>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default GenerateQuizStep;\n\n\n"],"names":["GenerateQuizStep","form","method","uploadedFiles","selectedExistingFileIds","projectFiles","isGenerating","generatedQuiz","error","onGenerate","getValues","div","className","h2","p","Card","CardContent","h3","span","Math","round","map","file","index","name","fileId","find","f","id","Button","onClick","disabled","size","Loader2","Sparkles","Progress","value","Alert","variant","AlertCircle","AlertDescription","CheckCircle2","questions","length"],"mappings":"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"}