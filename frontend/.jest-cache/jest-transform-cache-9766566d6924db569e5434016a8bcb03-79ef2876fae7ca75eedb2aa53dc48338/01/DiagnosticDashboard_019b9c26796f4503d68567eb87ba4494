3a35fb85ddc8021d6fdb92e4f21da642
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return DiagnosticDashboard;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _axiosapi = require("../../../lib/axios-api");
const _card = require("../../../components/ui/card");
const _button = require("../../../components/ui/button");
const _badge = require("../../../components/ui/badge");
const _progress = require("../../../components/ui/progress");
const _tabs = require("../../../components/ui/tabs");
const _CreateDiagnosticWizard = require("./CreateDiagnosticWizard");
const _lucidereact = require("lucide-react");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
function DiagnosticDashboard({ projectId }) {
    const [sessions, setSessions] = (0, _react.useState)([]);
    const [isCreateDialogOpen, setIsCreateDialogOpen] = (0, _react.useState)(false);
    const [isLoading, setIsLoading] = (0, _react.useState)(false);
    (0, _react.useEffect)(()=>{
        fetchDiagnosticSessions();
    }, [
        projectId
    ]);
    const fetchDiagnosticSessions = async ()=>{
        try {
            setIsLoading(true);
            const response = await _axiosapi.axiosApi.get(`diagnostic-sessions/?project=${projectId}`);
            const data = response.data;
            setSessions(data.results || data || []);
        } catch (error) {
            console.error('Failed to fetch diagnostic sessions:', error);
        } finally{
            setIsLoading(false);
        }
    };
    const handleDiagnosticCreated = (newSession)=>{
        setSessions((prev)=>[
                newSession,
                ...prev
            ]);
    };
    const getStatusBadge = (status)=>{
        const variants = {
            DRAFT: 'secondary',
            OPEN: 'default',
            CLOSED: 'destructive'
        };
        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_badge.Badge, {
            variant: variants[status] || 'secondary',
            children: status
        });
    };
    const getDeliveryModeLabel = (mode)=>{
        return mode === 'IMMEDIATE_FEEDBACK' ? 'Immediate Feedback' : 'Deferred Feedback';
    };
    const formatDate = (dateString)=>{
        if (!dateString) return 'Not set';
        return new Date(dateString).toLocaleDateString();
    };
    const formatTime = (dateString)=>{
        if (!dateString) return 'Not set';
        return new Date(dateString).toLocaleTimeString();
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "space-y-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                className: "text-3xl font-bold tracking-tight",
                                children: "Pre-Lecture Diagnostics"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-muted-foreground",
                                children: "Assess student readiness and identify knowledge gaps before lectures"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                        onClick: ()=>setIsCreateDialogOpen(true),
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Plus, {
                                className: "mr-2 h-4 w-4"
                            }),
                            "Create Diagnostic"
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_CreateDiagnosticWizard.CreateDiagnosticWizard, {
                        open: isCreateDialogOpen,
                        onOpenChange: setIsCreateDialogOpen,
                        projectId: projectId,
                        onCreated: handleDiagnosticCreated
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_tabs.Tabs, {
                defaultValue: "all",
                className: "space-y-4",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_tabs.TabsList, {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsTrigger, {
                                value: "all",
                                children: "All Sessions"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsTrigger, {
                                value: "draft",
                                children: "Draft"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsTrigger, {
                                value: "open",
                                children: "Open"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsTrigger, {
                                value: "closed",
                                children: "Closed"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsContent, {
                        value: "all",
                        className: "space-y-4",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                            children: sessions.map((session)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(DiagnosticSessionCard, {
                                    session: session,
                                    onRefresh: fetchDiagnosticSessions
                                }, session.id))
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsContent, {
                        value: "draft",
                        className: "space-y-4",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                            children: sessions.filter((s)=>s.status === 'DRAFT').map((session)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(DiagnosticSessionCard, {
                                    session: session,
                                    onRefresh: fetchDiagnosticSessions
                                }, session.id))
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsContent, {
                        value: "open",
                        className: "space-y-4",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                            children: sessions.filter((s)=>s.status === 'OPEN').map((session)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(DiagnosticSessionCard, {
                                    session: session,
                                    onRefresh: fetchDiagnosticSessions
                                }, session.id))
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsContent, {
                        value: "closed",
                        className: "space-y-4",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                            children: sessions.filter((s)=>s.status === 'CLOSED').map((session)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(DiagnosticSessionCard, {
                                    session: session,
                                    onRefresh: fetchDiagnosticSessions
                                }, session.id))
                        })
                    })
                ]
            }),
            sessions.length === 0 && !isLoading && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center py-12",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Target, {
                        className: "mx-auto h-12 w-12 text-muted-foreground"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        className: "mt-4 text-lg font-semibold",
                        children: "No diagnostic sessions yet"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "mt-2 text-muted-foreground",
                        children: "Create your first diagnostic to start assessing student readiness"
                    })
                ]
            })
        ]
    });
}
function DiagnosticSessionCard({ session, onRefresh }) {
    const getStatusBadge = (status)=>{
        const variants = {
            DRAFT: 'secondary',
            OPEN: 'default',
            CLOSED: 'destructive'
        };
        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_badge.Badge, {
            variant: variants[status] || 'secondary',
            children: status
        });
    };
    const getDeliveryModeLabel = (mode)=>{
        return mode === 'IMMEDIATE_FEEDBACK' ? 'Immediate Feedback' : 'Deferred Feedback';
    };
    const formatDate = (dateString)=>{
        if (!dateString) return 'Not set';
        return new Date(dateString).toLocaleDateString();
    };
    const formatTime = (dateString)=>{
        if (!dateString) return 'Not set';
        return new Date(dateString).toLocaleTimeString();
    };
    const handleStatusChange = async (newStatus)=>{
        try {
            await _axiosapi.axiosApi.patch(`diagnostic-sessions/${session.id}/`, {
                status: newStatus
            });
            onRefresh();
        } catch (error) {
            console.error('Failed to update status:', error);
        }
    };
    const handleDelete = async ()=>{
        if (!confirm('Are you sure you want to delete this diagnostic session?')) return;
        try {
            await _axiosapi.axiosApi.delete(`diagnostic-sessions/${session.id}/`);
            onRefresh();
        } catch (error) {
            console.error('Failed to delete session:', error);
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
        className: "hover:shadow-md transition-shadow",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                className: "pb-3",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-start justify-between",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-1",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardTitle, {
                                    className: "text-lg",
                                    children: session.topic
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-2",
                                    children: [
                                        getStatusBadge(session.status),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_badge.Badge, {
                                            variant: "outline",
                                            children: getDeliveryModeLabel(session.delivery_mode)
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex space-x-1",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                    variant: "ghost",
                                    size: "sm",
                                    onClick: ()=>handleStatusChange('OPEN'),
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Play, {
                                        className: "h-4 w-4"
                                    })
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                    variant: "ghost",
                                    size: "sm",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Edit, {
                                        className: "h-4 w-4"
                                    })
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                    variant: "ghost",
                                    size: "sm",
                                    onClick: handleDelete,
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Trash2, {
                                        className: "h-4 w-4"
                                    })
                                })
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                className: "space-y-4",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "grid grid-cols-2 gap-4 text-sm",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center space-x-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Calendar, {
                                        className: "h-4 w-4 text-muted-foreground"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        children: formatDate(session.scheduled_for)
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center space-x-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Clock, {
                                        className: "h-4 w-4 text-muted-foreground"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        children: formatTime(session.due_at)
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center justify-between text-sm",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "text-muted-foreground",
                                children: [
                                    "Questions: ",
                                    session.max_questions
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "text-muted-foreground",
                                children: [
                                    "Created: ",
                                    formatDate(session.created_at)
                                ]
                            })
                        ]
                    }),
                    session.participation_rate !== undefined && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-y-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center justify-between text-sm",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        children: "Participation"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                        children: [
                                            Math.round(session.participation_rate * 100),
                                            "%"
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_progress.Progress, {
                                value: session.participation_rate * 100,
                                className: "h-2"
                            })
                        ]
                    }),
                    session.average_score !== undefined && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center justify-between text-sm",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                children: "Average Score"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "font-medium",
                                children: [
                                    Math.round(session.average_score * 100),
                                    "%"
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex space-x-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                variant: "outline",
                                size: "sm",
                                className: "flex-1",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.BarChart3, {
                                        className: "mr-2 h-4 w-4"
                                    }),
                                    "Analytics"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                variant: "outline",
                                size: "sm",
                                className: "flex-1",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Users, {
                                        className: "mr-2 h-4 w-4"
                                    }),
                                    "Responses"
                                ]
                            })
                        ]
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWNvYmhvcm5zdmVubmV2aWsvRG9jdW1lbnRzL0dpdEh1Yi9tYVJlcG9fcm9vdC9mcm9udGVuZC9zcmMvZmVhdHVyZXMvZGlhZ25vc3RpY3MvY29tcG9uZW50cy9EaWFnbm9zdGljRGFzaGJvYXJkLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYXhpb3NBcGkgfSBmcm9tIFwiQC9saWIvYXhpb3MtYXBpXCI7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJztcbmltcG9ydCB7IFByb2dyZXNzIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Byb2dyZXNzJztcbmltcG9ydCB7IFRhYnMsIFRhYnNDb250ZW50LCBUYWJzTGlzdCwgVGFic1RyaWdnZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGFicyc7XG5pbXBvcnQgeyBDcmVhdGVEaWFnbm9zdGljV2l6YXJkIH0gZnJvbSAnLi9DcmVhdGVEaWFnbm9zdGljV2l6YXJkJztcbmltcG9ydCB7IENhbGVuZGFyLCBDbG9jaywgVXNlcnMsIFRhcmdldCwgUGx1cywgQmFyQ2hhcnQzLCBQbGF5LCBFZGl0LCBUcmFzaDIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgRGlhZ25vc3RpY1Nlc3Npb24ge1xuICBpZDogc3RyaW5nO1xuICB0b3BpYzogc3RyaW5nO1xuICBzdGF0dXM6ICdEUkFGVCcgfCAnT1BFTicgfCAnQ0xPU0VEJztcbiAgZGVsaXZlcnlfbW9kZTogJ0lNTUVESUFURV9GRUVEQkFDSycgfCAnREVGRVJSRURfRkVFREJBQ0snO1xuICBzY2hlZHVsZWRfZm9yPzogc3RyaW5nO1xuICBkdWVfYXQ/OiBzdHJpbmc7XG4gIG1heF9xdWVzdGlvbnM6IG51bWJlcjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICBwYXJ0aWNpcGF0aW9uX3JhdGU/OiBudW1iZXI7XG4gIGF2ZXJhZ2Vfc2NvcmU/OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBDcmVhdGVEaWFnbm9zdGljRm9ybSB7XG4gIHRvcGljOiBzdHJpbmc7XG4gIGRlbGl2ZXJ5X21vZGU6ICdJTU1FRElBVEVfRkVFREJBQ0snIHwgJ0RFRkVSUkVEX0ZFRURCQUNLJztcbiAgbWF4X3F1ZXN0aW9uczogbnVtYmVyO1xuICBkaWZmaWN1bHR5OiBudW1iZXI7XG4gIHNjaGVkdWxlZF9mb3I/OiBzdHJpbmc7XG4gIGR1ZV9hdD86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlhZ25vc3RpY0Rhc2hib2FyZCh7IHByb2plY3RJZCB9OiB7IHByb2plY3RJZDogc3RyaW5nIH0pIHtcbiAgY29uc3QgW3Nlc3Npb25zLCBzZXRTZXNzaW9uc10gPSB1c2VTdGF0ZTxEaWFnbm9zdGljU2Vzc2lvbltdPihbXSk7XG4gIGNvbnN0IFtpc0NyZWF0ZURpYWxvZ09wZW4sIHNldElzQ3JlYXRlRGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaERpYWdub3N0aWNTZXNzaW9ucygpO1xuICB9LCBbcHJvamVjdElkXSk7XG5cbiAgY29uc3QgZmV0Y2hEaWFnbm9zdGljU2Vzc2lvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3NBcGkuZ2V0KGBkaWFnbm9zdGljLXNlc3Npb25zLz9wcm9qZWN0PSR7cHJvamVjdElkfWApO1xuICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICBzZXRTZXNzaW9ucyhkYXRhLnJlc3VsdHMgfHwgZGF0YSB8fCBbXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBkaWFnbm9zdGljIHNlc3Npb25zOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGlhZ25vc3RpY0NyZWF0ZWQgPSAobmV3U2Vzc2lvbjogYW55KSA9PiB7XG4gICAgc2V0U2Vzc2lvbnMocHJldiA9PiBbbmV3U2Vzc2lvbiwgLi4ucHJldl0pO1xuICB9O1xuXG4gIGNvbnN0IGdldFN0YXR1c0JhZGdlID0gKHN0YXR1czogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdmFyaWFudHMgPSB7XG4gICAgICBEUkFGVDogJ3NlY29uZGFyeScsXG4gICAgICBPUEVOOiAnZGVmYXVsdCcsXG4gICAgICBDTE9TRUQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgfSBhcyBjb25zdDtcbiAgICBcbiAgICByZXR1cm4gPEJhZGdlIHZhcmlhbnQ9e3ZhcmlhbnRzW3N0YXR1cyBhcyBrZXlvZiB0eXBlb2YgdmFyaWFudHNdIHx8ICdzZWNvbmRhcnknfT57c3RhdHVzfTwvQmFkZ2U+O1xuICB9O1xuXG4gIGNvbnN0IGdldERlbGl2ZXJ5TW9kZUxhYmVsID0gKG1vZGU6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBtb2RlID09PSAnSU1NRURJQVRFX0ZFRURCQUNLJyA/ICdJbW1lZGlhdGUgRmVlZGJhY2snIDogJ0RlZmVycmVkIEZlZWRiYWNrJztcbiAgfTtcblxuICBjb25zdCBmb3JtYXREYXRlID0gKGRhdGVTdHJpbmc/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAnTm90IHNldCc7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVTdHJpbmcpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICB9O1xuXG4gIGNvbnN0IGZvcm1hdFRpbWUgPSAoZGF0ZVN0cmluZz86IHN0cmluZykgPT4ge1xuICAgIGlmICghZGF0ZVN0cmluZykgcmV0dXJuICdOb3Qgc2V0JztcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZykudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0cmFja2luZy10aWdodFwiPlByZS1MZWN0dXJlIERpYWdub3N0aWNzPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIEFzc2VzcyBzdHVkZW50IHJlYWRpbmVzcyBhbmQgaWRlbnRpZnkga25vd2xlZGdlIGdhcHMgYmVmb3JlIGxlY3R1cmVzXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJc0NyZWF0ZURpYWxvZ09wZW4odHJ1ZSl9PlxuICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNFwiIC8+XG4gICAgICAgICAgQ3JlYXRlIERpYWdub3N0aWNcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIFxuICAgICAgICA8Q3JlYXRlRGlhZ25vc3RpY1dpemFyZFxuICAgICAgICAgIG9wZW49e2lzQ3JlYXRlRGlhbG9nT3Blbn1cbiAgICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldElzQ3JlYXRlRGlhbG9nT3Blbn1cbiAgICAgICAgICBwcm9qZWN0SWQ9e3Byb2plY3RJZH1cbiAgICAgICAgICBvbkNyZWF0ZWQ9e2hhbmRsZURpYWdub3N0aWNDcmVhdGVkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBUYWJzICovfVxuICAgICAgPFRhYnMgZGVmYXVsdFZhbHVlPVwiYWxsXCIgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxUYWJzTGlzdD5cbiAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJhbGxcIj5BbGwgU2Vzc2lvbnM8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cImRyYWZ0XCI+RHJhZnQ8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cIm9wZW5cIj5PcGVuPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJjbG9zZWRcIj5DbG9zZWQ8L1RhYnNUcmlnZ2VyPlxuICAgICAgICA8L1RhYnNMaXN0PlxuXG4gICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT1cImFsbFwiIGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNCBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtM1wiPlxuICAgICAgICAgICAge3Nlc3Npb25zLm1hcCgoc2Vzc2lvbikgPT4gKFxuICAgICAgICAgICAgICA8RGlhZ25vc3RpY1Nlc3Npb25DYXJkXG4gICAgICAgICAgICAgICAga2V5PXtzZXNzaW9uLmlkfVxuICAgICAgICAgICAgICAgIHNlc3Npb249e3Nlc3Npb259XG4gICAgICAgICAgICAgICAgb25SZWZyZXNoPXtmZXRjaERpYWdub3N0aWNTZXNzaW9uc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1RhYnNDb250ZW50PlxuXG4gICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT1cImRyYWZ0XCIgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC00IG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zXCI+XG4gICAgICAgICAgICB7c2Vzc2lvbnMuZmlsdGVyKHMgPT4gcy5zdGF0dXMgPT09ICdEUkFGVCcpLm1hcCgoc2Vzc2lvbikgPT4gKFxuICAgICAgICAgICAgICA8RGlhZ25vc3RpY1Nlc3Npb25DYXJkXG4gICAgICAgICAgICAgICAga2V5PXtzZXNzaW9uLmlkfVxuICAgICAgICAgICAgICAgIHNlc3Npb249e3Nlc3Npb259XG4gICAgICAgICAgICAgICAgb25SZWZyZXNoPXtmZXRjaERpYWdub3N0aWNTZXNzaW9uc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1RhYnNDb250ZW50PlxuXG4gICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT1cIm9wZW5cIiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTQgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTNcIj5cbiAgICAgICAgICAgIHtzZXNzaW9ucy5maWx0ZXIocyA9PiBzLnN0YXR1cyA9PT0gJ09QRU4nKS5tYXAoKHNlc3Npb24pID0+IChcbiAgICAgICAgICAgICAgPERpYWdub3N0aWNTZXNzaW9uQ2FyZFxuICAgICAgICAgICAgICAgIGtleT17c2Vzc2lvbi5pZH1cbiAgICAgICAgICAgICAgICBzZXNzaW9uPXtzZXNzaW9ufVxuICAgICAgICAgICAgICAgIG9uUmVmcmVzaD17ZmV0Y2hEaWFnbm9zdGljU2Vzc2lvbnN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9UYWJzQ29udGVudD5cblxuICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJjbG9zZWRcIiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTQgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTNcIj5cbiAgICAgICAgICAgIHtzZXNzaW9ucy5maWx0ZXIocyA9PiBzLnN0YXR1cyA9PT0gJ0NMT1NFRCcpLm1hcCgoc2Vzc2lvbikgPT4gKFxuICAgICAgICAgICAgICA8RGlhZ25vc3RpY1Nlc3Npb25DYXJkXG4gICAgICAgICAgICAgICAga2V5PXtzZXNzaW9uLmlkfVxuICAgICAgICAgICAgICAgIHNlc3Npb249e3Nlc3Npb259XG4gICAgICAgICAgICAgICAgb25SZWZyZXNoPXtmZXRjaERpYWdub3N0aWNTZXNzaW9uc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgPC9UYWJzPlxuXG4gICAgICB7c2Vzc2lvbnMubGVuZ3RoID09PSAwICYmICFpc0xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyXCI+XG4gICAgICAgICAgPFRhcmdldCBjbGFzc05hbWU9XCJteC1hdXRvIGgtMTIgdy0xMiB0ZXh0LW11dGVkLWZvcmVncm91bmRcIiAvPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJtdC00IHRleHQtbGcgZm9udC1zZW1pYm9sZFwiPk5vIGRpYWdub3N0aWMgc2Vzc2lvbnMgeWV0PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgQ3JlYXRlIHlvdXIgZmlyc3QgZGlhZ25vc3RpYyB0byBzdGFydCBhc3Nlc3Npbmcgc3R1ZGVudCByZWFkaW5lc3NcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRGlhZ25vc3RpY1Nlc3Npb25DYXJkKHsgXG4gIHNlc3Npb24sIFxuICBvblJlZnJlc2ggXG59OiB7IFxuICBzZXNzaW9uOiBEaWFnbm9zdGljU2Vzc2lvbjsgXG4gIG9uUmVmcmVzaDogKCkgPT4gdm9pZDtcbn0pIHtcbiAgY29uc3QgZ2V0U3RhdHVzQmFkZ2UgPSAoc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB2YXJpYW50cyA9IHtcbiAgICAgIERSQUZUOiAnc2Vjb25kYXJ5JyxcbiAgICAgIE9QRU46ICdkZWZhdWx0JyxcbiAgICAgIENMT1NFRDogJ2Rlc3RydWN0aXZlJyxcbiAgICB9IGFzIGNvbnN0O1xuICAgIFxuICAgIHJldHVybiA8QmFkZ2UgdmFyaWFudD17dmFyaWFudHNbc3RhdHVzIGFzIGtleW9mIHR5cGVvZiB2YXJpYW50c10gfHwgJ3NlY29uZGFyeSd9PntzdGF0dXN9PC9CYWRnZT47XG4gIH07XG5cbiAgY29uc3QgZ2V0RGVsaXZlcnlNb2RlTGFiZWwgPSAobW9kZTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIG1vZGUgPT09ICdJTU1FRElBVEVfRkVFREJBQ0snID8gJ0ltbWVkaWF0ZSBGZWVkYmFjaycgOiAnRGVmZXJyZWQgRmVlZGJhY2snO1xuICB9O1xuXG4gIGNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZVN0cmluZz86IHN0cmluZykgPT4ge1xuICAgIGlmICghZGF0ZVN0cmluZykgcmV0dXJuICdOb3Qgc2V0JztcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZykudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0VGltZSA9IChkYXRlU3RyaW5nPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFkYXRlU3RyaW5nKSByZXR1cm4gJ05vdCBzZXQnO1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlU3RyaW5nKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdGF0dXNDaGFuZ2UgPSBhc3luYyAobmV3U3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXhpb3NBcGkucGF0Y2goYGRpYWdub3N0aWMtc2Vzc2lvbnMvJHtzZXNzaW9uLmlkfS9gLCB7IHN0YXR1czogbmV3U3RhdHVzIH0pO1xuICAgICAgb25SZWZyZXNoKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgc3RhdHVzOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGRpYWdub3N0aWMgc2Vzc2lvbj8nKSkgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBheGlvc0FwaS5kZWxldGUoYGRpYWdub3N0aWMtc2Vzc2lvbnMvJHtzZXNzaW9uLmlkfS9gKTtcbiAgICAgIG9uUmVmcmVzaCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIHNlc3Npb246JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxDYXJkIGNsYXNzTmFtZT1cImhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvd1wiPlxuICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwicGItM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC1sZ1wiPntzZXNzaW9uLnRvcGljfTwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAge2dldFN0YXR1c0JhZGdlKHNlc3Npb24uc3RhdHVzKX1cbiAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJvdXRsaW5lXCI+e2dldERlbGl2ZXJ5TW9kZUxhYmVsKHNlc3Npb24uZGVsaXZlcnlfbW9kZSl9PC9CYWRnZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCdPUEVOJyl9PlxuICAgICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIj5cbiAgICAgICAgICAgICAgPEVkaXQgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgb25DbGljaz17aGFuZGxlRGVsZXRlfT5cbiAgICAgICAgICAgICAgPFRyYXNoMiBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC00IHRleHQtc21cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgPENhbGVuZGFyIGNsYXNzTmFtZT1cImgtNCB3LTQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgLz5cbiAgICAgICAgICAgIDxzcGFuPntmb3JtYXREYXRlKHNlc3Npb24uc2NoZWR1bGVkX2Zvcil9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LW11dGVkLWZvcmVncm91bmRcIiAvPlxuICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdFRpbWUoc2Vzc2lvbi5kdWVfYXQpfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+UXVlc3Rpb25zOiB7c2Vzc2lvbi5tYXhfcXVlc3Rpb25zfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIENyZWF0ZWQ6IHtmb3JtYXREYXRlKHNlc3Npb24uY3JlYXRlZF9hdCl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7c2Vzc2lvbi5wYXJ0aWNpcGF0aW9uX3JhdGUgIT09IHVuZGVmaW5lZCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgPHNwYW4+UGFydGljaXBhdGlvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+e01hdGgucm91bmQoc2Vzc2lvbi5wYXJ0aWNpcGF0aW9uX3JhdGUgKiAxMDApfSU8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxQcm9ncmVzcyB2YWx1ZT17c2Vzc2lvbi5wYXJ0aWNpcGF0aW9uX3JhdGUgKiAxMDB9IGNsYXNzTmFtZT1cImgtMlwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge3Nlc3Npb24uYXZlcmFnZV9zY29yZSAhPT0gdW5kZWZpbmVkICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICA8c3Bhbj5BdmVyYWdlIFNjb3JlPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57TWF0aC5yb3VuZChzZXNzaW9uLmF2ZXJhZ2Vfc2NvcmUgKiAxMDApfSU8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgIDxCYXJDaGFydDMgY2xhc3NOYW1lPVwibXItMiBoLTQgdy00XCIgLz5cbiAgICAgICAgICAgIEFuYWx5dGljc1xuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgIDxVc2VycyBjbGFzc05hbWU9XCJtci0yIGgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgUmVzcG9uc2VzXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiRGlhZ25vc3RpY0Rhc2hib2FyZCIsInByb2plY3RJZCIsInNlc3Npb25zIiwic2V0U2Vzc2lvbnMiLCJ1c2VTdGF0ZSIsImlzQ3JlYXRlRGlhbG9nT3BlbiIsInNldElzQ3JlYXRlRGlhbG9nT3BlbiIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInVzZUVmZmVjdCIsImZldGNoRGlhZ25vc3RpY1Nlc3Npb25zIiwicmVzcG9uc2UiLCJheGlvc0FwaSIsImdldCIsImRhdGEiLCJyZXN1bHRzIiwiZXJyb3IiLCJjb25zb2xlIiwiaGFuZGxlRGlhZ25vc3RpY0NyZWF0ZWQiLCJuZXdTZXNzaW9uIiwicHJldiIsImdldFN0YXR1c0JhZGdlIiwic3RhdHVzIiwidmFyaWFudHMiLCJEUkFGVCIsIk9QRU4iLCJDTE9TRUQiLCJCYWRnZSIsInZhcmlhbnQiLCJnZXREZWxpdmVyeU1vZGVMYWJlbCIsIm1vZGUiLCJmb3JtYXREYXRlIiwiZGF0ZVN0cmluZyIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJmb3JtYXRUaW1lIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJwIiwiQnV0dG9uIiwib25DbGljayIsIlBsdXMiLCJDcmVhdGVEaWFnbm9zdGljV2l6YXJkIiwib3BlbiIsIm9uT3BlbkNoYW5nZSIsIm9uQ3JlYXRlZCIsIlRhYnMiLCJkZWZhdWx0VmFsdWUiLCJUYWJzTGlzdCIsIlRhYnNUcmlnZ2VyIiwidmFsdWUiLCJUYWJzQ29udGVudCIsIm1hcCIsInNlc3Npb24iLCJEaWFnbm9zdGljU2Vzc2lvbkNhcmQiLCJvblJlZnJlc2giLCJpZCIsImZpbHRlciIsInMiLCJsZW5ndGgiLCJUYXJnZXQiLCJoMyIsImhhbmRsZVN0YXR1c0NoYW5nZSIsIm5ld1N0YXR1cyIsInBhdGNoIiwiaGFuZGxlRGVsZXRlIiwiY29uZmlybSIsImRlbGV0ZSIsIkNhcmQiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwidG9waWMiLCJkZWxpdmVyeV9tb2RlIiwic2l6ZSIsIlBsYXkiLCJFZGl0IiwiVHJhc2gyIiwiQ2FyZENvbnRlbnQiLCJDYWxlbmRhciIsInNwYW4iLCJzY2hlZHVsZWRfZm9yIiwiQ2xvY2siLCJkdWVfYXQiLCJtYXhfcXVlc3Rpb25zIiwiY3JlYXRlZF9hdCIsInBhcnRpY2lwYXRpb25fcmF0ZSIsInVuZGVmaW5lZCIsIk1hdGgiLCJyb3VuZCIsIlByb2dyZXNzIiwiYXZlcmFnZV9zY29yZSIsIkJhckNoYXJ0MyIsIlVzZXJzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBa0NBOzs7ZUFBd0JBOzs7OytEQWhDbUI7MEJBQ2xCO3NCQUNpRDt3QkFDbkQ7dUJBQ0Q7MEJBQ0c7c0JBQ2dDO3dDQUNsQjs2QkFDNkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCckUsU0FBU0Esb0JBQW9CLEVBQUVDLFNBQVMsRUFBeUI7SUFDOUUsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdDLElBQUFBLGVBQVEsRUFBc0IsRUFBRTtJQUNoRSxNQUFNLENBQUNDLG9CQUFvQkMsc0JBQXNCLEdBQUdGLElBQUFBLGVBQVEsRUFBQztJQUM3RCxNQUFNLENBQUNHLFdBQVdDLGFBQWEsR0FBR0osSUFBQUEsZUFBUSxFQUFDO0lBRTNDSyxJQUFBQSxnQkFBUyxFQUFDO1FBQ1JDO0lBQ0YsR0FBRztRQUFDVDtLQUFVO0lBRWQsTUFBTVMsMEJBQTBCO1FBQzlCLElBQUk7WUFDRkYsYUFBYTtZQUNiLE1BQU1HLFdBQVcsTUFBTUMsa0JBQVEsQ0FBQ0MsR0FBRyxDQUFDLENBQUMsNkJBQTZCLEVBQUVaLFdBQVc7WUFDL0UsTUFBTWEsT0FBT0gsU0FBU0csSUFBSTtZQUMxQlgsWUFBWVcsS0FBS0MsT0FBTyxJQUFJRCxRQUFRLEVBQUU7UUFD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