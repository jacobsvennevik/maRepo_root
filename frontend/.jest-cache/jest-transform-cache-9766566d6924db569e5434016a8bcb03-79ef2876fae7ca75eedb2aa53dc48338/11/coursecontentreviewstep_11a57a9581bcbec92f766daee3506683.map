{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/features/projects/components/steps/course-content-review-step.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { FileText, CheckCircle, Sparkles } from 'lucide-react';\n\ninterface ProcessedDocument {\n  id: number;\n  original_text: string;\n  metadata: any;\n  status: 'completed' | 'pending' | 'processing' | 'error';\n}\n\ninterface CourseContentReviewStepProps {\n  extractedContent: ProcessedDocument[];\n  fileNames: string[];\n  onConfirm: () => void;\n}\n\n/*\n * CourseContentReviewStep\n * -----------------------\n * Presents a lightweight overview of the extracted course materials so the\n * student can confirm everything looks correct before proceeding.\n */\nexport function CourseContentReviewStep({ extractedContent, fileNames, onConfirm }: CourseContentReviewStepProps) {\n  const [expandedDocId, setExpandedDocId] = useState<number | null>(null);\n\n  const toggleDoc = (id: number) => {\n    setExpandedDocId(prev => (prev === id ? null : id));\n  };\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"course-content-review-step\">\n      {/* Header */}\n      <div className=\"text-center space-y-3\">\n        <div className=\"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto\">\n          <Sparkles className=\"h-6 w-6 text-white\" />\n        </div>\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900\">Content Analysis Complete!</h2>\n          <p className=\"text-sm text-gray-600 mt-1\">\n            We've processed {fileNames.length} {fileNames.length === 1 ? 'file' : 'files'}. Review the excerpts below.\n          </p>\n        </div>\n      </div>\n\n      {/* Documents overview */}\n      <div className=\"space-y-4\">\n        {extractedContent.map(doc => (\n          <Card key={doc.id} className=\"border-gray-200\">\n            <CardHeader className=\"flex flex-row items-center justify-between cursor-pointer\" onClick={() => toggleDoc(doc.id)}>\n              <div className=\"flex items-center gap-2\">\n                <FileText className=\"h-5 w-5 text-blue-600\" />\n                <CardTitle className=\"text-base font-medium truncate max-w-xs sm:max-w-sm\">\n                  {doc.metadata?.source_file || `Document #${doc.id}`}\n                </CardTitle>\n              </div>\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {doc.metadata?.page_count ? `${doc.metadata.page_count} pages` : 'excerpt'}\n              </Badge>\n            </CardHeader>\n            {expandedDocId === doc.id && (\n              <CardContent className=\"space-y-3\">\n                <pre className=\"bg-gray-50 p-3 rounded text-xs whitespace-pre-wrap max-h-64 overflow-y-auto\">\n                  {doc.original_text}\n                </pre>\n              </CardContent>\n            )}\n          </Card>\n        ))}\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"flex justify-end pt-4\">\n        <Button onClick={onConfirm} className=\"flex items-center gap-2 bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700\">\n          <CheckCircle className=\"h-4 w-4\" />\n          Looks Good - Continue\n        </Button>\n      </div>\n    </div>\n  );\n} "],"names":["CourseContentReviewStep","extractedContent","fileNames","onConfirm","expandedDocId","setExpandedDocId","useState","toggleDoc","id","prev","div","className","data-testid","Sparkles","h2","p","length","map","doc","Card","CardHeader","onClick","FileText","CardTitle","metadata","source_file","Badge","variant","page_count","CardContent","pre","original_text","Button","CheckCircle"],"mappings":"AAAA;;;;;+BA2BgBA;;;eAAAA;;;;+DAzBgB;sBACyB;wBAClC;uBACD;6BAC0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBzC,SAASA,wBAAwB,EAAEC,gBAAgB,EAAEC,SAAS,EAAEC,SAAS,EAAgC;IAC9G,MAAM,CAACC,eAAeC,iBAAiB,GAAGC,IAAAA,eAAQ,EAAgB;IAElE,MAAMC,YAAY,CAACC;QACjBH,iBAAiBI,CAAAA,OAASA,SAASD,KAAK,OAAOA;IACjD;IAEA,qBACE,sBAACE;QAAIC,WAAU;QAAYC,eAAY;;0BAErC,sBAACF;gBAAIC,WAAU;;kCACb,qBAACD;wBAAIC,WAAU;kCACb,cAAA,qBAACE,qBAAQ;4BAACF,WAAU;;;kCAEtB,sBAACD;;0CACC,qBAACI;gCAAGH,WAAU;0CAAsC;;0CACpD,sBAACI;gCAAEJ,WAAU;;oCAA6B;oCACvBT,UAAUc,MAAM;oCAAC;oCAAEd,UAAUc,MAAM,KAAK,IAAI,SAAS;oCAAQ;;;;;;;0BAMpF,qBAACN;gBAAIC,WAAU;0BACZV,iBAAiBgB,GAAG,CAACC,CAAAA,oBACpB,sBAACC,UAAI;wBAAcR,WAAU;;0CAC3B,sBAACS,gBAAU;gCAACT,WAAU;gCAA4DU,SAAS,IAAMd,UAAUW,IAAIV,EAAE;;kDAC/G,sBAACE;wCAAIC,WAAU;;0DACb,qBAACW,qBAAQ;gDAACX,WAAU;;0DACpB,qBAACY,eAAS;gDAACZ,WAAU;0DAClBO,IAAIM,QAAQ,EAAEC,eAAe,CAAC,UAAU,EAAEP,IAAIV,EAAE,EAAE;;;;kDAGvD,qBAACkB,YAAK;wCAACC,SAAQ;wCAAUhB,WAAU;kDAChCO,IAAIM,QAAQ,EAAEI,aAAa,GAAGV,IAAIM,QAAQ,CAACI,UAAU,CAAC,MAAM,CAAC,GAAG;;;;4BAGpExB,kBAAkBc,IAAIV,EAAE,kBACvB,qBAACqB,iBAAW;gCAAClB,WAAU;0CACrB,cAAA,qBAACmB;oCAAInB,WAAU;8CACZO,IAAIa,aAAa;;;;uBAffb,IAAIV,EAAE;;0BAwBrB,qBAACE;gBAAIC,WAAU;0BACb,cAAA,sBAACqB,cAAM;oBAACX,SAASlB;oBAAWQ,WAAU;;sCACpC,qBAACsB,wBAAW;4BAACtB,WAAU;;wBAAY;;;;;;AAM7C"}