{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/test-utils/setup/jest.setup.ts"],"sourcesContent":["import '@testing-library/jest-dom';\nimport { setupServer } from 'msw/node';\nimport { handlers } from '../../tests/msw/handlers';\n\n// Setup MSW server\nconst server = setupServer(...handlers);\n\n// Global test setup\nbeforeAll(() => {\n  // Start MSW server\n  server.listen({ onUnhandledRequest: 'error' });\n  \n  // Setup global mocks\n  global.ResizeObserver = jest.fn().mockImplementation(() => ({\n    observe: jest.fn(),\n    unobserve: jest.fn(),\n    disconnect: jest.fn(),\n  }));\n\n  // Mock IntersectionObserver\n  global.IntersectionObserver = jest.fn().mockImplementation(() => ({\n    observe: jest.fn(),\n    unobserve: jest.fn(),\n    disconnect: jest.fn(),\n  }));\n\n  // Mock matchMedia\n  Object.defineProperty(window, 'matchMedia', {\n    writable: true,\n    value: jest.fn().mockImplementation(query => ({\n      matches: false,\n      media: query,\n      onchange: null,\n      addListener: jest.fn(), // deprecated\n      removeListener: jest.fn(), // deprecated\n      addEventListener: jest.fn(),\n      removeEventListener: jest.fn(),\n      dispatchEvent: jest.fn(),\n    })),\n  });\n\n  // Mock scrollTo\n  global.scrollTo = jest.fn();\n\n  // Mock console methods to reduce noise in tests\n  const originalError = console.error;\n  const originalWarn = console.warn;\n  \n  console.error = (...args) => {\n    if (\n      typeof args[0] === 'string' &&\n      args[0].includes('Warning: ReactDOM.render is no longer supported')\n    ) {\n      return;\n    }\n    originalError.call(console, ...args);\n  };\n\n  console.warn = (...args) => {\n    if (\n      typeof args[0] === 'string' &&\n      (args[0].includes('componentWillReceiveProps') ||\n       args[0].includes('componentWillMount'))\n    ) {\n      return;\n    }\n    originalWarn.call(console, ...args);\n  };\n});\n\n// Reset handlers between tests\nafterEach(() => {\n  server.resetHandlers();\n});\n\n// Cleanup after all tests\nafterAll(() => {\n  server.close();\n});\n\n// Global test utilities\ndeclare global {\n  namespace jest {\n    interface Matchers<R> {\n      toBeInTheDocument(): R;\n      toHaveClass(className: string): R;\n      toHaveTextContent(text: string | RegExp): R;\n      toBeVisible(): R;\n      toBeDisabled(): R;\n      toBeEnabled(): R;\n      toHaveValue(value: string | string[] | number): R;\n      toHaveAttribute(attr: string, value?: string): R;\n      toHaveStyle(css: string | Record<string, any>): R;\n      toStartWithApi(): R;\n      toHaveNoDoubleSlash(): R;\n      toBeSameBaseURLAs(other: any): R;\n    }\n  }\n}\n"],"names":["server","setupServer","handlers","beforeAll","listen","onUnhandledRequest","global","ResizeObserver","jest","fn","mockImplementation","observe","unobserve","disconnect","IntersectionObserver","Object","defineProperty","window","writable","value","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","scrollTo","originalError","console","error","originalWarn","warn","args","includes","call","afterEach","resetHandlers","afterAll","close"],"mappings":";;;;QAAO;sBACqB;0BACH;AAEzB,mBAAmB;AACnB,MAAMA,SAASC,IAAAA,iBAAW,KAAIC,kBAAQ;AAEtC,oBAAoB;AACpBC,UAAU;IACR,mBAAmB;IACnBH,OAAOI,MAAM,CAAC;QAAEC,oBAAoB;IAAQ;IAE5C,qBAAqB;IACrBC,OAAOC,cAAc,GAAGC,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YAC1DC,SAASH,KAAKC,EAAE;YAChBG,WAAWJ,KAAKC,EAAE;YAClBI,YAAYL,KAAKC,EAAE;QACrB,CAAA;IAEA,4BAA4B;IAC5BH,OAAOQ,oBAAoB,GAAGN,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YAChEC,SAASH,KAAKC,EAAE;YAChBG,WAAWJ,KAAKC,EAAE;YAClBI,YAAYL,KAAKC,EAAE;QACrB,CAAA;IAEA,kBAAkB;IAClBM,OAAOC,cAAc,CAACC,QAAQ,cAAc;QAC1CC,UAAU;QACVC,OAAOX,KAAKC,EAAE,GAAGC,kBAAkB,CAACU,CAAAA,QAAU,CAAA;gBAC5CC,SAAS;gBACTC,OAAOF;gBACPG,UAAU;gBACVC,aAAahB,KAAKC,EAAE;gBACpBgB,gBAAgBjB,KAAKC,EAAE;gBACvBiB,kBAAkBlB,KAAKC,EAAE;gBACzBkB,qBAAqBnB,KAAKC,EAAE;gBAC5BmB,eAAepB,KAAKC,EAAE;YACxB,CAAA;IACF;IAEA,gBAAgB;IAChBH,OAAOuB,QAAQ,GAAGrB,KAAKC,EAAE;IAEzB,gDAAgD;IAChD,MAAMqB,gBAAgBC,QAAQC,KAAK;IACnC,MAAMC,eAAeF,QAAQG,IAAI;IAEjCH,QAAQC,KAAK,GAAG,CAAC,GAAGG;QAClB,IACE,OAAOA,IAAI,CAAC,EAAE,KAAK,YACnBA,IAAI,CAAC,EAAE,CAACC,QAAQ,CAAC,oDACjB;YACA;QACF;QACAN,cAAcO,IAAI,CAACN,YAAYI;IACjC;IAEAJ,QAAQG,IAAI,GAAG,CAAC,GAAGC;QACjB,IACE,OAAOA,IAAI,CAAC,EAAE,KAAK,YAClBA,CAAAA,IAAI,CAAC,EAAE,CAACC,QAAQ,CAAC,gCACjBD,IAAI,CAAC,EAAE,CAACC,QAAQ,CAAC,qBAAoB,GACtC;YACA;QACF;QACAH,aAAaI,IAAI,CAACN,YAAYI;IAChC;AACF;AAEA,+BAA+B;AAC/BG,UAAU;IACRtC,OAAOuC,aAAa;AACtB;AAEA,0BAA0B;AAC1BC,SAAS;IACPxC,OAAOyC,KAAK;AACd"}