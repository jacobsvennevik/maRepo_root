{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/app/projects/[projectId]/flashcards/utils/__tests__/data-transformation.test.ts"],"sourcesContent":["import { refreshFlashcardSets } from '../data-transformation'\nimport { axiosGeneration } from '@/lib/axios'\n\njest.mock('@/lib/axios', () => ({\n  axiosGeneration: { get: jest.fn() },\n}))\n\ndescribe('data-transformation: refreshFlashcardSets', () => {\n  beforeEach(() => {\n    (axiosGeneration.get as jest.Mock).mockReset()\n  })\n\n  it('calls generation endpoint for project-scoped sets', async () => {\n    ;(axiosGeneration.get as jest.Mock).mockResolvedValue({ data: { results: [] } })\n\n    const projectId = '203062be-58d0-4f98-bbd4-33b4ce081276'\n    await refreshFlashcardSets(projectId)\n\n    expect(axiosGeneration.get).toHaveBeenCalledWith(`projects/${projectId}/flashcard-sets/`)\n  })\n\n  it('falls back to UUID when projectId is numeric (via global hint)', async () => {\n    ;(axiosGeneration.get as jest.Mock).mockResolvedValue({ data: { results: [] } })\n\n    const uuid = '203062be-58d0-4f98-bbd4-33b4ce081276'\n    ;(global as any).__activeProjectId = uuid\n\n    await refreshFlashcardSets('1' as any)\n\n    expect(axiosGeneration.get).toHaveBeenCalledWith(`projects/${uuid}/flashcard-sets/`)\n  })\n})\n"],"names":["jest","mock","axiosGeneration","get","fn","describe","beforeEach","mockReset","it","mockResolvedValue","data","results","projectId","refreshFlashcardSets","expect","toHaveBeenCalledWith","uuid","global","__activeProjectId"],"mappings":";AAGAA,KAAKC,IAAI,CAAC,eAAe,IAAO,CAAA;QAC9BC,iBAAiB;YAAEC,KAAKH,KAAKI,EAAE;QAAG;IACpC,CAAA;;;;oCALqC;uBACL;AAMhCC,SAAS,6CAA6C;IACpDC,WAAW;QACRJ,sBAAe,CAACC,GAAG,CAAeI,SAAS;IAC9C;IAEAC,GAAG,qDAAqD;;QACpDN,sBAAe,CAACC,GAAG,CAAeM,iBAAiB,CAAC;YAAEC,MAAM;gBAAEC,SAAS,EAAE;YAAC;QAAE;QAE9E,MAAMC,YAAY;QAClB,MAAMC,IAAAA,wCAAoB,EAACD;QAE3BE,OAAOZ,sBAAe,CAACC,GAAG,EAAEY,oBAAoB,CAAC,CAAC,SAAS,EAAEH,UAAU,gBAAgB,CAAC;IAC1F;IAEAJ,GAAG,kEAAkE;;QACjEN,sBAAe,CAACC,GAAG,CAAeM,iBAAiB,CAAC;YAAEC,MAAM;gBAAEC,SAAS,EAAE;YAAC;QAAE;QAE9E,MAAMK,OAAO;QACXC,OAAeC,iBAAiB,GAAGF;QAErC,MAAMH,IAAAA,wCAAoB,EAAC;QAE3BC,OAAOZ,sBAAe,CAACC,GAAG,EAAEY,oBAAoB,CAAC,CAAC,SAAS,EAAEC,KAAK,gBAAgB,CAAC;IACrF;AACF"}