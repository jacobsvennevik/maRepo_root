{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/features/projects/components/guided-setup/utils/__tests__/transformBackendData.test.ts"],"sourcesContent":["import { transformBackendData } from '../transformBackendData';\n\n// Mock the mock-data module\njest.mock('../../../../services/mock-data', () => ({\n  MOCK_SYLLABUS_EXTRACTION: {\n    course_title: 'Natural Language Interaction ',\n    instructor: 'António Branco',\n    topics: [\n      'Knowledge representation based on inference',\n      'Syntactic analysis and parsing',\n      'Semantic representation and logical form',\n      'Applications of natural language processing',\n      'Language models',\n      'Vector representation of knowledge and distributional semantics',\n      'Word embeddings',\n      'Neural networks, deep learning and Transformers',\n      'AI, Cognition and open challenges'\n    ],\n    exam_dates: [\n      { date: '2025-02-27', description: 'Short exercise A' },\n      { date: '2025-03-13', description: 'Short exercise B' },\n      { date: '2025-03-27', description: 'Test 1' },\n      { date: '2025-04-10', description: 'Short exercise C' },\n      { date: '2025-05-09', description: 'Tests announcement' },\n      { date: '2025-05-15', description: 'Short exercise D' },\n      { date: '2025-05-29', description: 'Test 2' },\n      { date: '2025-05-30', description: 'Project submission (Master\\'s)' },\n      { date: '2025-06-13', description: 'Project submission (Doctorate)' }\n    ]\n  }\n}));\n\ndescribe('transformBackendData', () => {\n  it('should transform mock syllabus data correctly', () => {\n    const { MOCK_SYLLABUS_EXTRACTION } = require('../../../../services/mock-data');\n    const mockBackendData = {\n      metadata: MOCK_SYLLABUS_EXTRACTION\n    };\n\n    const result = transformBackendData(mockBackendData);\n\n    // Check basic fields\n    expect(result.courseName).toBe('Natural Language Interaction ');\n    expect(result.instructor).toContain('António');\n    expect(result.semester).toBe('Spring 2025');\n    expect(result.courseType).toBe('STEM');\n\n    // Check topics\n    expect(result.topics).toHaveLength(9);\n    expect(result.topics[0]).toHaveProperty('id');\n    expect(result.topics[0]).toHaveProperty('label');\n    expect(result.topics[0]).toHaveProperty('confidence');\n    expect(result.topics[0].label).toBe('Knowledge representation based on inference');\n\n    // Check dates\n    expect(result.dates).toHaveLength(9);\n    expect(result.dates[0]).toHaveProperty('id');\n    expect(result.dates[0]).toHaveProperty('date');\n    expect(result.dates[0]).toHaveProperty('description');\n    expect(result.dates[0]).toHaveProperty('type');\n    expect(result.dates[0].description).toContain('Short exercise A');\n\n    // Check assessment types\n    expect(result.assessmentTypes).toBeDefined();\n    expect(result.assessmentTypes?.has_final_exam).toBe(true);\n    expect(result.assessmentTypes?.has_projects).toBe(true);\n\n    // Check test types\n    expect(result.testTypes).toBeDefined();\n    expect(Array.isArray(result.testTypes)).toBe(true);\n\n    // Check grading\n    expect(result.grading).toBeDefined();\n    expect(Array.isArray(result.grading)).toBe(true);\n  });\n\n  it('should handle missing data gracefully', () => {\n    const emptyData = {};\n\n    const result = transformBackendData(emptyData);\n\n    expect(result.courseName).toBe('Unknown Course');\n    expect(result.instructor).toBe('Unknown Instructor');\n    expect(result.semester).toBe('Spring 2025');\n    expect(result.topics).toHaveLength(0);\n    expect(result.dates).toHaveLength(0);\n    expect(result.testTypes).toHaveLength(0);\n    expect(result.grading).toHaveLength(0);\n  });\n\n  it('should handle backend data without metadata wrapper', () => {\n    const { MOCK_SYLLABUS_EXTRACTION } = require('../../../../services/mock-data');\n    const directData = MOCK_SYLLABUS_EXTRACTION;\n\n    const result = transformBackendData(directData);\n\n    expect(result.courseName).toBe('Natural Language Interaction ');\n    expect(result.instructor).toContain('António');\n    expect(result.topics).toHaveLength(9);\n    expect(result.dates).toHaveLength(9);\n  });\n}); "],"names":["jest","mock","MOCK_SYLLABUS_EXTRACTION","course_title","instructor","topics","exam_dates","date","description","describe","it","require","mockBackendData","metadata","result","transformBackendData","expect","courseName","toBe","toContain","semester","courseType","toHaveLength","toHaveProperty","label","dates","assessmentTypes","toBeDefined","has_final_exam","has_projects","testTypes","Array","isArray","grading","emptyData","directData"],"mappings":"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"}