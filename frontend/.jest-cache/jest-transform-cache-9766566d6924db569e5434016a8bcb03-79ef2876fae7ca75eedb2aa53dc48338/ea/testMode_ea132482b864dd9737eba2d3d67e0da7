f671600dfd88753d53b26f7cb87619c5
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    buildTestModeHeaders: function() {
        return buildTestModeHeaders;
    },
    isTestEnv: function() {
        return isTestEnv;
    }
});
function isTestEnv() {
    if (process.env.NODE_ENV === 'test') return true;
    if (process.env.NODE_ENV === 'development' && process.env.NEXT_PUBLIC_TEST_MODE === 'true') return true;
    try {
        const w = globalThis?.window;
        if (w?.location?.hostname === 'localhost' && process.env.NEXT_PUBLIC_TEST_MODE === 'true') return true;
    } catch  {}
    return false;
}
function buildTestModeHeaders() {
    return isTestEnv() ? {
        'X-Test-Mode': 'true'
    } : {};
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWNvYmhvcm5zdmVubmV2aWsvRG9jdW1lbnRzL0dpdEh1Yi9tYVJlcG9fcm9vdC9mcm9udGVuZC9zcmMvbGliL3Rlc3RNb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc1Rlc3RFbnYoKTogYm9vbGVhbiB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSByZXR1cm4gdHJ1ZVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVEVTVF9NT0RFID09PSAndHJ1ZScpIHJldHVybiB0cnVlXG4gIHRyeSB7XG4gICAgY29uc3QgdzogYW55ID0gKGdsb2JhbFRoaXMgYXMgYW55KT8ud2luZG93XG4gICAgaWYgKHc/LmxvY2F0aW9uPy5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgJiYgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVEVTVF9NT0RFID09PSAndHJ1ZScpIHJldHVybiB0cnVlXG4gIH0gY2F0Y2gge31cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFRlc3RNb2RlSGVhZGVycygpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgcmV0dXJuIGlzVGVzdEVudigpID8geyAnWC1UZXN0LU1vZGUnOiAndHJ1ZScgfSA6IHt9XG59XG4iXSwibmFtZXMiOlsiYnVpbGRUZXN0TW9kZUhlYWRlcnMiLCJpc1Rlc3RFbnYiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJORVhUX1BVQkxJQ19URVNUX01PREUiLCJ3IiwiZ2xvYmFsVGhpcyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBVWdCQSxvQkFBb0I7ZUFBcEJBOztJQVZBQyxTQUFTO2VBQVRBOzs7QUFBVCxTQUFTQTtJQUNkLElBQUlDLFFBQVFDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLLFFBQVEsT0FBTztJQUM1QyxJQUFJRixRQUFRQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxpQkFBaUJGLFFBQVFDLEdBQUcsQ0FBQ0UscUJBQXFCLEtBQUssUUFBUSxPQUFPO0lBQ25HLElBQUk7UUFDRixNQUFNQyxJQUFVQyxZQUFvQkM7UUFDcEMsSUFBSUYsR0FBR0csVUFBVUMsYUFBYSxlQUFlUixRQUFRQyxHQUFHLENBQUNFLHFCQUFxQixLQUFLLFFBQVEsT0FBTztJQUNwRyxFQUFFLE9BQU0sQ0FBQztJQUNULE9BQU87QUFDVDtBQUVPLFNBQVNMO0lBQ2QsT0FBT0MsY0FBYztRQUFFLGVBQWU7SUFBTyxJQUFJLENBQUM7QUFDcEQifQ==