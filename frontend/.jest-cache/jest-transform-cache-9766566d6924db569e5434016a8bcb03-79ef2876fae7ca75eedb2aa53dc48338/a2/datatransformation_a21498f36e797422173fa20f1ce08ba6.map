{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/app/projects/[projectId]/flashcards/utils/data-transformation.ts"],"sourcesContent":["// Data transformation utilities for flashcard hooks\nimport { axiosGeneration } from \"@/lib/axios\";\nimport type { Paginated } from \"@/lib/api/pagination\";\n\nexport interface FlashcardSetApi {\n  id: number;\n  title: string;\n  total_cards: number;\n  due_cards: number;\n  learning_cards: number;\n  review_cards: number;\n  new_cards: number;\n  average_accuracy: number;\n  created_at: string;\n}\n\nexport function unwrapFlashcardSets(payload: any): FlashcardSetApi[] {\n  return Array.isArray(payload)\n    ? payload\n    : Array.isArray(payload?.results)\n    ? payload.results\n    : [];\n}\n\nexport async function refreshFlashcardSets(projectId: string): Promise<FlashcardSetApi[]> {\n  const response = await axiosGeneration.get<FlashcardSetApi[] | Paginated<FlashcardSetApi>>(\n    `projects/${projectId}/flashcard-sets/`\n  );\n  return unwrapFlashcardSets(response.data);\n}\n\nexport function calculateFlashcardStats(sets: FlashcardSetApi[]) {\n  const totalCards = sets.reduce((sum, set) => sum + set.total_cards, 0);\n  const dueToday = sets.reduce((sum, set) => sum + set.due_cards, 0);\n  const learningCards = sets.reduce((sum, set) => sum + set.learning_cards, 0);\n  const reviewCards = sets.reduce((sum, set) => sum + set.review_cards, 0);\n  const avgAccuracy = sets.length > 0\n    ? sets.reduce((sum, set) => sum + set.average_accuracy, 0) / sets.length\n    : 0;\n\n  return {\n    total_sets: sets.length,\n    total_cards: totalCards,\n    due_today: dueToday,\n    learning_cards: learningCards,\n    mastered_cards: reviewCards,\n    average_accuracy: avgAccuracy,\n  };\n}\n"],"names":["calculateFlashcardStats","refreshFlashcardSets","unwrapFlashcardSets","payload","Array","isArray","results","projectId","response","axiosGeneration","get","data","sets","totalCards","reduce","sum","set","total_cards","dueToday","due_cards","learningCards","learning_cards","reviewCards","review_cards","avgAccuracy","length","average_accuracy","total_sets","due_today","mastered_cards"],"mappings":"AAAA,oDAAoD;;;;;;;;;;;;IA+BpCA,uBAAuB;eAAvBA;;IAPMC,oBAAoB;eAApBA;;IARNC,mBAAmB;eAAnBA;;;uBAfgB;AAezB,SAASA,oBAAoBC,OAAY;IAC9C,OAAOC,MAAMC,OAAO,CAACF,WACjBA,UACAC,MAAMC,OAAO,CAACF,SAASG,WACvBH,QAAQG,OAAO,GACf,EAAE;AACR;AAEO,eAAeL,qBAAqBM,SAAiB;IAC1D,MAAMC,WAAW,MAAMC,sBAAe,CAACC,GAAG,CACxC,CAAC,SAAS,EAAEH,UAAU,gBAAgB,CAAC;IAEzC,OAAOL,oBAAoBM,SAASG,IAAI;AAC1C;AAEO,SAASX,wBAAwBY,IAAuB;IAC7D,MAAMC,aAAaD,KAAKE,MAAM,CAAC,CAACC,KAAKC,MAAQD,MAAMC,IAAIC,WAAW,EAAE;IACpE,MAAMC,WAAWN,KAAKE,MAAM,CAAC,CAACC,KAAKC,MAAQD,MAAMC,IAAIG,SAAS,EAAE;IAChE,MAAMC,gBAAgBR,KAAKE,MAAM,CAAC,CAACC,KAAKC,MAAQD,MAAMC,IAAIK,cAAc,EAAE;IAC1E,MAAMC,cAAcV,KAAKE,MAAM,CAAC,CAACC,KAAKC,MAAQD,MAAMC,IAAIO,YAAY,EAAE;IACtE,MAAMC,cAAcZ,KAAKa,MAAM,GAAG,IAC9Bb,KAAKE,MAAM,CAAC,CAACC,KAAKC,MAAQD,MAAMC,IAAIU,gBAAgB,EAAE,KAAKd,KAAKa,MAAM,GACtE;IAEJ,OAAO;QACLE,YAAYf,KAAKa,MAAM;QACvBR,aAAaJ;QACbe,WAAWV;QACXG,gBAAgBD;QAChBS,gBAAgBP;QAChBI,kBAAkBF;IACpB;AACF"}