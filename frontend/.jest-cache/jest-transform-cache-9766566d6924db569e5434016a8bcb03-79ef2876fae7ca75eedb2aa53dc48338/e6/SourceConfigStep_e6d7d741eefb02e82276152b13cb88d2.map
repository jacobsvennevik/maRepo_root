{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/features/quiz/components/QuizWizard/steps/SourceConfigStep.tsx"],"sourcesContent":["/**\n * SourceConfigStep\n */\n\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert } from '@/components/ui/alert';\nimport { \n  Brain,\n  Upload,\n  ListChecks,\n  Loader2,\n  Search,\n  X,\n  File,\n  CheckCircle2,\n} from 'lucide-react';\nimport { \n  getFileIcon,\n  formatFileSize,\n  formatTimeAgo,\n} from '../../../utils';\n\ninterface SourceConfigStepProps {\n  method: 'auto' | 'files' | 'manual';\n  uploadedFiles: File[];\n  selectedExistingFileIds: (string | number)[];\n  existingSearch: string;\n  isLoadingFiles: boolean;\n  projectFiles: any[];\n  onFileUpload: (files: File[]) => void;\n  onRemoveFile: (index: number) => void;\n  onToggleExistingFile: (fileId: string | number) => void;\n  onSearchChange: (search: string) => void;\n}\n\nexport const SourceConfigStep: React.FC<SourceConfigStepProps> = ({\n  method,\n  uploadedFiles,\n  selectedExistingFileIds,\n  existingSearch,\n  isLoadingFiles,\n  projectFiles,\n  onFileUpload,\n  onRemoveFile,\n  onToggleExistingFile,\n  onSearchChange,\n}) => {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"text-center space-y-2\">\n        <h2 className=\"text-xl font-semibold text-slate-900\">Source Configuration</h2>\n        <p className=\"text-sm text-slate-600\">\n          {method === 'files' ? 'Select files to generate questions from' : \n           method === 'auto' ? 'AI will analyze your project content automatically' :\n           'Configure manual quiz creation'}\n        </p>\n      </div>\n\n      {method === 'files' && (\n        <div className=\"space-y-4\">\n          <div>\n            <Label>Upload New Files</Label>\n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n              <Upload className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\n              <p className=\"text-sm text-gray-600\">Drag & drop files here or click to browse</p>\n              <input \n                type=\"file\" \n                multiple \n                accept=\".pdf,.docx,.txt\"\n                onChange={(e) => onFileUpload(Array.from(e.target.files || []))}\n                className=\"hidden\"\n                id=\"file-upload\"\n              />\n              <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                <Button variant=\"outline\" size=\"sm\" className=\"mt-2\">\n                  Browse Files\n                </Button>\n              </label>\n            </div>\n          </div>\n\n          {uploadedFiles.length > 0 && (\n            <div>\n              <Label>Uploaded Files</Label>\n              <div className=\"space-y-2\">\n                {uploadedFiles.map((file, index) => (\n                  <div key={index} className=\"flex items-center justify-between p-2 border rounded\">\n                    <div className=\"flex items-center gap-2\">\n                      <File className={`h-3 w-3 ${getFileIcon(file.name)}`} />\n                      <span className=\"text-sm\">{file.name}</span>\n                      <Badge variant=\"secondary\">{formatFileSize(file.size)}</Badge>\n                    </div>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"sm\" \n                      onClick={() => onRemoveFile(index)}\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div>\n            <Label>Project Files</Label>\n            <div className=\"relative mb-2\">\n              <Search className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n              <Input \n                placeholder=\"Search files...\"\n                value={existingSearch}\n                onChange={(e) => onSearchChange(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            \n            {isLoadingFiles ? (\n              <div className=\"flex items-center justify-center p-4\">\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n                <span className=\"ml-2 text-sm\">Loading files...</span>\n              </div>\n            ) : (\n              <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                {projectFiles\n                  .filter((file: any) => \n                    file.name.toLowerCase().includes(existingSearch.toLowerCase())\n                  )\n                  .map((file: any) => (\n                    <div \n                      key={file.id} \n                      className={`flex items-center justify-between p-2 border rounded cursor-pointer transition-colors ${\n                        selectedExistingFileIds.includes(file.id) \n                          ? 'border-blue-500 bg-blue-50' \n                          : 'hover:bg-gray-50'\n                      }`}\n                      onClick={() => onToggleExistingFile(file.id)}\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        <File className={`h-3 w-3 ${getFileIcon(file.name, file.file_type)}`} />\n                        <div>\n                          <span className=\"text-sm font-medium\">{file.name}</span>\n                          <div className=\"text-xs text-gray-500\">\n                            {file.file_type?.toUpperCase()} • {formatFileSize(file.file_size || 0)} • {formatTimeAgo(file.uploaded_at || '')}\n                          </div>\n                        </div>\n                      </div>\n                      {selectedExistingFileIds.includes(file.id) && (\n                        <CheckCircle2 className=\"h-4 w-4 text-blue-500\" />\n                      )}\n                    </div>\n                  ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {method === 'auto' && (\n        <div className=\"text-center space-y-4\">\n          <div className=\"p-6 border rounded-lg bg-blue-50\">\n            <Brain className=\"h-8 w-8 text-blue-600 mx-auto mb-2\" />\n            <h3 className=\"font-semibold text-blue-900\">AI Auto-Generation</h3>\n            <p className=\"text-sm text-blue-700\">\n              AI will analyze your project content and create relevant quiz questions automatically.\n              This includes all uploaded files, notes, and project materials.\n            </p>\n          </div>\n        </div>\n      )}\n\n      {method === 'manual' && (\n        <div className=\"text-center space-y-4\">\n          <div className=\"p-6 border rounded-lg bg-emerald-50\">\n            <ListChecks className=\"h-8 w-8 text-emerald-600 mx-auto mb-2\" />\n            <h3 className=\"font-semibold text-emerald-900\">Manual Setup</h3>\n            <p className=\"text-sm text-emerald-700\">\n              You'll be able to manually create and configure quiz questions after the basic setup is complete.\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SourceConfigStep;\n\n\n"],"names":["SourceConfigStep","method","uploadedFiles","selectedExistingFileIds","existingSearch","isLoadingFiles","projectFiles","onFileUpload","onRemoveFile","onToggleExistingFile","onSearchChange","div","className","h2","p","Label","Upload","input","type","multiple","accept","onChange","e","Array","from","target","files","id","label","htmlFor","Button","variant","size","length","map","file","index","File","getFileIcon","name","span","Badge","formatFileSize","onClick","X","Search","Input","placeholder","value","Loader2","filter","toLowerCase","includes","file_type","toUpperCase","file_size","formatTimeAgo","uploaded_at","CheckCircle2","Brain","h3","ListChecks"],"mappings":"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"}