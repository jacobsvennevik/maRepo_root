f659ae5c727f27798c6684759379458b
/**
 * LoginForm Modular Tests - Simplified Version
 * 
 * Working modular test suite using simplified patterns for
 * authentication functionality testing.
 */ "use strict";
// Mock authentication services
jest.mock('@/lib/axios-auth', ()=>({
        axiosAuth: {
            post: jest.fn()
        }
    }));
jest.mock('@/lib/axios-api', ()=>({
        axiosApi: {
            get: jest.fn(),
            post: jest.fn(),
            patch: jest.fn(),
            delete: jest.fn()
        }
    }));
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: jest.fn(),
                replace: jest.fn(),
                back: jest.fn(),
                forward: jest.fn(),
                refresh: jest.fn()
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
require("@testing-library/jest-dom");
const _LoginForm = require("../LoginForm");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Simple render function for testing
const renderWithProviders = (component)=>{
    return (0, _react1.render)(component);
};
describe('LoginForm', ()=>{
    const mockAxiosAuth = {
        post: jest.fn()
    };
    const mockAxiosApi = {
        get: jest.fn(),
        post: jest.fn(),
        patch: jest.fn(),
        delete: jest.fn()
    };
    const mockRouter = {
        push: jest.fn(),
        replace: jest.fn(),
        back: jest.fn(),
        forward: jest.fn(),
        refresh: jest.fn()
    };
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    // ============================================================================
    // Rendering Tests
    // ============================================================================
    describe('Rendering', ()=>{
        it('renders login form with all required elements', ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            expect(_react1.screen.getByTestId('login-form')).toBeInTheDocument();
            expect(_react1.screen.getByLabelText(/email/i)).toBeInTheDocument();
            expect(_react1.screen.getByLabelText(/password/i)).toBeInTheDocument();
            expect(_react1.screen.getByRole('button', {
                name: /^sign in$/i
            })).toBeInTheDocument();
        });
        it('renders with proper accessibility attributes', ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            const form = _react1.screen.getByTestId('login-form');
            const emailInput = _react1.screen.getByLabelText(/email/i);
            const passwordInput = _react1.screen.getByLabelText(/password/i);
            expect(form).toBeInTheDocument();
            expect(emailInput).toHaveAttribute('type', 'email');
            expect(passwordInput).toHaveAttribute('type', 'password');
        });
    });
    // ============================================================================
    // Authentication Flow Tests
    // ============================================================================
    describe('Authentication Flow', ()=>{
        it('handles successful login', async ()=>{
            const user = _userevent.default.setup();
            // Mock successful responses
            mockAxiosAuth.post.mockResolvedValueOnce({
                data: {
                    access: 'mock-access-token',
                    refresh: 'mock-refresh-token'
                }
            });
            mockAxiosApi.get.mockResolvedValueOnce({
                data: {
                    id: 1,
                    email: 'test@example.com'
                }
            });
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            // Fill and submit form
            await (0, _react1.act)(async ()=>{
                await user.type(_react1.screen.getByLabelText(/email/i), 'test@example.com');
                await user.type(_react1.screen.getByLabelText(/password/i), 'password123');
                await user.click(_react1.screen.getByRole('button', {
                    name: /^sign in$/i
                }));
            });
            // Verify authentication flow
            await (0, _react1.waitFor)(()=>{
                expect(mockAxiosAuth.post).toHaveBeenCalledWith('/token/', {
                    email: 'test@example.com',
                    password: 'password123'
                });
                expect(mockAxiosApi.get).toHaveBeenCalledWith('users/me/');
                expect(mockRouter.push).toHaveBeenCalledWith('/dashboard');
            }, {
                timeout: 5000
            });
        });
        it('handles login error', async ()=>{
            const user = _userevent.default.setup();
            // Mock failed login
            mockAxiosAuth.post.mockRejectedValueOnce({
                response: {
                    data: {
                        detail: 'Invalid credentials'
                    }
                }
            });
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            // Fill and submit form
            await (0, _react1.act)(async ()=>{
                await user.type(_react1.screen.getByLabelText(/email/i), 'test@example.com');
                await user.type(_react1.screen.getByLabelText(/password/i), 'wrongpassword');
                await user.click(_react1.screen.getByRole('button', {
                    name: /^sign in$/i
                }));
            });
            // Wait for error message
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/invalid credentials/i)).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
        it('validates required fields', async ()=>{
            const user = _userevent.default.setup();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            // Try to submit without filling fields
            await (0, _react1.act)(async ()=>{
                await user.click(_react1.screen.getByRole('button', {
                    name: /^sign in$/i
                }));
            });
            // Check for validation messages
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/please enter a valid email address/i)).toBeInTheDocument();
                expect(_react1.screen.getByText(/password must be at least 8 characters/i)).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
    });
    // ============================================================================
    // Data-Driven Tests
    // ============================================================================
    describe('Data-Driven Authentication', ()=>{
        const validCredentials = [
            {
                email: 'test@example.com',
                password: 'password123'
            },
            {
                email: 'user@domain.org',
                password: 'securepass456'
            },
            {
                email: 'admin@company.com',
                password: 'adminpass789'
            }
        ];
        validCredentials.forEach((credentials, index)=>{
            it(`handles valid credentials ${index + 1}`, async ()=>{
                const user = _userevent.default.setup();
                // Mock successful responses
                mockAxiosAuth.post.mockResolvedValueOnce({
                    data: {
                        access: 'mock-access-token',
                        refresh: 'mock-refresh-token'
                    }
                });
                mockAxiosApi.get.mockResolvedValueOnce({
                    data: {
                        id: 1,
                        email: credentials.email
                    }
                });
                renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
                // Fill and submit form
                await (0, _react1.act)(async ()=>{
                    await user.type(_react1.screen.getByLabelText(/email/i), credentials.email);
                    await user.type(_react1.screen.getByLabelText(/password/i), credentials.password);
                    await user.click(_react1.screen.getByRole('button', {
                        name: /^sign in$/i
                    }));
                });
                // Verify authentication flow
                await (0, _react1.waitFor)(()=>{
                    expect(mockAxiosAuth.post).toHaveBeenCalledWith('/token/', {
                        email: credentials.email,
                        password: credentials.password
                    });
                    expect(mockAxiosApi.get).toHaveBeenCalledWith('users/me/');
                    expect(mockRouter.push).toHaveBeenCalledWith('/dashboard');
                }, {
                    timeout: 5000
                });
            });
        });
    });
    // ============================================================================
    // Accessibility Tests
    // ============================================================================
    describe('Accessibility', ()=>{
        it('has proper ARIA labels and roles', ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            const form = _react1.screen.getByTestId('login-form');
            const emailInput = _react1.screen.getByLabelText(/email/i);
            const passwordInput = _react1.screen.getByLabelText(/password/i);
            const submitButton = _react1.screen.getByRole('button', {
                name: /^sign in$/i
            });
            expect(form).toBeInTheDocument();
            expect(emailInput).toHaveAttribute('type', 'email');
            expect(passwordInput).toHaveAttribute('type', 'password');
            expect(submitButton).toHaveAttribute('type', 'submit');
        });
        it('supports keyboard navigation', async ()=>{
            const user = _userevent.default.setup();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            // Tab through form elements
            await user.tab();
            expect(_react1.screen.getByLabelText(/email/i)).toHaveFocus();
            await user.tab();
            expect(_react1.screen.getByLabelText(/password/i)).toHaveFocus();
            await user.tab();
            expect(_react1.screen.getByRole('button', {
                name: /^sign in$/i
            })).toHaveFocus();
        });
    });
    // ============================================================================
    // Performance Tests
    // ============================================================================
    describe('Performance', ()=>{
        it('renders within acceptable time', ()=>{
            const startTime = performance.now();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            const endTime = performance.now();
            expect(endTime - startTime).toBeLessThan(100); // Should render in < 100ms
        });
        it('handles login efficiently', async ()=>{
            const user = _userevent.default.setup();
            mockAxiosAuth.post.mockResolvedValueOnce({
                data: {
                    access: 'token',
                    refresh: 'refresh'
                }
            });
            mockAxiosApi.get.mockResolvedValueOnce({
                data: {
                    id: 1,
                    email: 'test@example.com'
                }
            });
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LoginForm.LoginForm, {}));
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                await user.type(_react1.screen.getByLabelText(/email/i), 'test@example.com');
                await user.type(_react1.screen.getByLabelText(/password/i), 'password123');
                await user.click(_react1.screen.getByRole('button', {
                    name: /^sign in$/i
                }));
            });
            await (0, _react1.waitFor)(()=>{
                expect(mockAxiosAuth.post).toHaveBeenCalled();
            });
            const endTime = performance.now();
            expect(endTime - startTime).toBeLessThan(2000); // Should complete in < 2s
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWNvYmhvcm5zdmVubmV2aWsvRG9jdW1lbnRzL0dpdEh1Yi9tYVJlcG9fcm9vdC9mcm9udGVuZC9zcmMvYXBwLyhhdXRoKS9jb21wb25lbnRzL19fdGVzdHNfXy9Mb2dpbkZvcm0tbW9kdWxhci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExvZ2luRm9ybSBNb2R1bGFyIFRlc3RzIC0gU2ltcGxpZmllZCBWZXJzaW9uXG4gKiBcbiAqIFdvcmtpbmcgbW9kdWxhciB0ZXN0IHN1aXRlIHVzaW5nIHNpbXBsaWZpZWQgcGF0dGVybnMgZm9yXG4gKiBhdXRoZW50aWNhdGlvbiBmdW5jdGlvbmFsaXR5IHRlc3RpbmcuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yLCBhY3QsIHJlbmRlciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcblxuaW1wb3J0IHsgTG9naW5Gb3JtIH0gZnJvbSAnLi4vTG9naW5Gb3JtJztcbmltcG9ydCB7IHN0YW5kYXJkTW9ja3MgfSBmcm9tICcuLi8uLi8uLi8uLi90ZXN0LXV0aWxzL21vY2tzJztcblxuLy8gU2ltcGxlIHJlbmRlciBmdW5jdGlvbiBmb3IgdGVzdGluZ1xuY29uc3QgcmVuZGVyV2l0aFByb3ZpZGVycyA9IChjb21wb25lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudCkgPT4ge1xuICByZXR1cm4gcmVuZGVyKGNvbXBvbmVudCk7XG59O1xuXG4vLyBNb2NrIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2VzXG5qZXN0Lm1vY2soJ0AvbGliL2F4aW9zLWF1dGgnLCAoKSA9PiAoe1xuICBheGlvc0F1dGg6IHsgcG9zdDogamVzdC5mbigpIH0sXG59KSk7XG5cbmplc3QubW9jaygnQC9saWIvYXhpb3MtYXBpJywgKCkgPT4gKHtcbiAgYXhpb3NBcGk6IHsgZ2V0OiBqZXN0LmZuKCksIHBvc3Q6IGplc3QuZm4oKSwgcGF0Y2g6IGplc3QuZm4oKSwgZGVsZXRlOiBqZXN0LmZuKCkgfSxcbn0pKTtcblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6ICgpID0+ICh7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICBiYWNrOiBqZXN0LmZuKCksXG4gICAgZm9yd2FyZDogamVzdC5mbigpLFxuICAgIHJlZnJlc2g6IGplc3QuZm4oKSxcbiAgfSksXG59KSk7XG5cbmRlc2NyaWJlKCdMb2dpbkZvcm0nLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tBeGlvc0F1dGggPSB7XG4gICAgcG9zdDogamVzdC5mbigpLFxuICB9O1xuICBcbiAgY29uc3QgbW9ja0F4aW9zQXBpID0ge1xuICAgIGdldDogamVzdC5mbigpLFxuICAgIHBvc3Q6IGplc3QuZm4oKSxcbiAgICBwYXRjaDogamVzdC5mbigpLFxuICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICB9O1xuICBcbiAgY29uc3QgbW9ja1JvdXRlciA9IHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gICAgcmVwbGFjZTogamVzdC5mbigpLFxuICAgIGJhY2s6IGplc3QuZm4oKSxcbiAgICBmb3J3YXJkOiBqZXN0LmZuKCksXG4gICAgcmVmcmVzaDogamVzdC5mbigpLFxuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFJlbmRlcmluZyBUZXN0c1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ1JlbmRlcmluZycsICgpID0+IHtcbiAgICBpdCgncmVuZGVycyBsb2dpbiBmb3JtIHdpdGggYWxsIHJlcXVpcmVkIGVsZW1lbnRzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyg8TG9naW5Gb3JtIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbG9naW4tZm9ybScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZW1haWwvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9wYXNzd29yZC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9ec2lnbiBpbiQvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZW5kZXJzIHdpdGggcHJvcGVyIGFjY2Vzc2liaWxpdHkgYXR0cmlidXRlcycsICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExvZ2luRm9ybSAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGZvcm0gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xvZ2luLWZvcm0nKTtcbiAgICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2VtYWlsL2kpO1xuICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvcGFzc3dvcmQvaSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChmb3JtKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGVtYWlsSW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICdlbWFpbCcpO1xuICAgICAgZXhwZWN0KHBhc3N3b3JkSW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICdwYXNzd29yZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEF1dGhlbnRpY2F0aW9uIEZsb3cgVGVzdHNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdBdXRoZW50aWNhdGlvbiBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdoYW5kbGVzIHN1Y2Nlc3NmdWwgbG9naW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCByZXNwb25zZXNcbiAgICAgIG1vY2tBeGlvc0F1dGgucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYWNjZXNzOiAnbW9jay1hY2Nlc3MtdG9rZW4nLFxuICAgICAgICAgIHJlZnJlc2g6ICdtb2NrLXJlZnJlc2gtdG9rZW4nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tBeGlvc0FwaS5nZXQubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgZGF0YTogeyBpZDogMSwgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyg8TG9naW5Gb3JtIC8+KTtcblxuICAgICAgLy8gRmlsbCBhbmQgc3VibWl0IGZvcm1cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2VtYWlsL2kpLCAndGVzdEBleGFtcGxlLmNvbScpO1xuICAgICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9wYXNzd29yZC9pKSwgJ3Bhc3N3b3JkMTIzJyk7XG4gICAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvXnNpZ24gaW4kL2kgfSkpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFZlcmlmeSBhdXRoZW50aWNhdGlvbiBmbG93XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tBeGlvc0F1dGgucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy90b2tlbi8nLCB7XG4gICAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXhpb3NBcGkuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndXNlcnMvbWUvJyk7XG4gICAgICAgIGV4cGVjdChtb2NrUm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvZGFzaGJvYXJkJyk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDUwMDAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyBsb2dpbiBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBmYWlsZWQgbG9naW5cbiAgICAgIG1vY2tBeGlvc0F1dGgucG9zdC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGRldGFpbDogJ0ludmFsaWQgY3JlZGVudGlhbHMnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyg8TG9naW5Gb3JtIC8+KTtcblxuICAgICAgLy8gRmlsbCBhbmQgc3VibWl0IGZvcm1cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2VtYWlsL2kpLCAndGVzdEBleGFtcGxlLmNvbScpO1xuICAgICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9wYXNzd29yZC9pKSwgJ3dyb25ncGFzc3dvcmQnKTtcbiAgICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9ec2lnbiBpbiQvaSB9KSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gV2FpdCBmb3IgZXJyb3IgbWVzc2FnZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9pbnZhbGlkIGNyZWRlbnRpYWxzL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3ZhbGlkYXRlcyByZXF1aXJlZCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExvZ2luRm9ybSAvPik7XG5cbiAgICAgIC8vIFRyeSB0byBzdWJtaXQgd2l0aG91dCBmaWxsaW5nIGZpZWxkc1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9ec2lnbiBpbiQvaSB9KSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHZhbGlkYXRpb24gbWVzc2FnZXNcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvcGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL3Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIERhdGEtRHJpdmVuIFRlc3RzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkZXNjcmliZSgnRGF0YS1Ecml2ZW4gQXV0aGVudGljYXRpb24nLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsaWRDcmVkZW50aWFscyA9IFtcbiAgICAgIHsgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJywgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycgfSxcbiAgICAgIHsgZW1haWw6ICd1c2VyQGRvbWFpbi5vcmcnLCBwYXNzd29yZDogJ3NlY3VyZXBhc3M0NTYnIH0sXG4gICAgICB7IGVtYWlsOiAnYWRtaW5AY29tcGFueS5jb20nLCBwYXNzd29yZDogJ2FkbWlucGFzczc4OScgfVxuICAgIF07XG5cbiAgICB2YWxpZENyZWRlbnRpYWxzLmZvckVhY2goKGNyZWRlbnRpYWxzLCBpbmRleCkgPT4ge1xuICAgICAgaXQoYGhhbmRsZXMgdmFsaWQgY3JlZGVudGlhbHMgJHtpbmRleCArIDF9YCwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgcmVzcG9uc2VzXG4gICAgICAgIG1vY2tBeGlvc0F1dGgucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGFjY2VzczogJ21vY2stYWNjZXNzLXRva2VuJyxcbiAgICAgICAgICAgIHJlZnJlc2g6ICdtb2NrLXJlZnJlc2gtdG9rZW4nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgbW9ja0F4aW9zQXBpLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIGRhdGE6IHsgaWQ6IDEsIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExvZ2luRm9ybSAvPik7XG5cbiAgICAgICAgLy8gRmlsbCBhbmQgc3VibWl0IGZvcm1cbiAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9lbWFpbC9pKSwgY3JlZGVudGlhbHMuZW1haWwpO1xuICAgICAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3Bhc3N3b3JkL2kpLCBjcmVkZW50aWFscy5wYXNzd29yZCk7XG4gICAgICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9ec2lnbiBpbiQvaSB9KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFZlcmlmeSBhdXRoZW50aWNhdGlvbiBmbG93XG4gICAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChtb2NrQXhpb3NBdXRoLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvdG9rZW4vJywge1xuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IGNyZWRlbnRpYWxzLnBhc3N3b3JkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGV4cGVjdChtb2NrQXhpb3NBcGkuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndXNlcnMvbWUvJyk7XG4gICAgICAgICAgZXhwZWN0KG1vY2tSb3V0ZXIucHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9kYXNoYm9hcmQnKTtcbiAgICAgICAgfSwgeyB0aW1lb3V0OiA1MDAwIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQWNjZXNzaWJpbGl0eSBUZXN0c1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ0FjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ2hhcyBwcm9wZXIgQVJJQSBsYWJlbHMgYW5kIHJvbGVzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyg8TG9naW5Gb3JtIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgZm9ybSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbG9naW4tZm9ybScpO1xuICAgICAgY29uc3QgZW1haWxJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZW1haWwvaSk7XG4gICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9wYXNzd29yZC9pKTtcbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL15zaWduIGluJC9pIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QoZm9ybSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChlbWFpbElucHV0KS50b0hhdmVBdHRyaWJ1dGUoJ3R5cGUnLCAnZW1haWwnKTtcbiAgICAgIGV4cGVjdChwYXNzd29yZElucHV0KS50b0hhdmVBdHRyaWJ1dGUoJ3R5cGUnLCAncGFzc3dvcmQnKTtcbiAgICAgIGV4cGVjdChzdWJtaXRCdXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzdXBwb3J0cyBrZXlib2FyZCBuYXZpZ2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxMb2dpbkZvcm0gLz4pO1xuXG4gICAgICAvLyBUYWIgdGhyb3VnaCBmb3JtIGVsZW1lbnRzXG4gICAgICBhd2FpdCB1c2VyLnRhYigpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZW1haWwvaSkpLnRvSGF2ZUZvY3VzKCk7XG4gICAgICBcbiAgICAgIGF3YWl0IHVzZXIudGFiKCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9wYXNzd29yZC9pKSkudG9IYXZlRm9jdXMoKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdXNlci50YWIoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9ec2lnbiBpbiQvaSB9KSkudG9IYXZlRm9jdXMoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQZXJmb3JtYW5jZSBUZXN0c1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdyZW5kZXJzIHdpdGhpbiBhY2NlcHRhYmxlIHRpbWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExvZ2luRm9ybSAvPik7XG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMTAwKTsgLy8gU2hvdWxkIHJlbmRlciBpbiA8IDEwMG1zXG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyBsb2dpbiBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgbW9ja0F4aW9zQXV0aC5wb3N0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGRhdGE6IHsgYWNjZXNzOiAndG9rZW4nLCByZWZyZXNoOiAncmVmcmVzaCcgfVxuICAgICAgfSk7XG4gICAgICBtb2NrQXhpb3NBcGkuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGRhdGE6IHsgaWQ6IDEsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfVxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPExvZ2luRm9ybSAvPik7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9lbWFpbC9pKSwgJ3Rlc3RAZXhhbXBsZS5jb20nKTtcbiAgICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvcGFzc3dvcmQvaSksICdwYXNzd29yZDEyMycpO1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL15zaWduIGluJC9pIH0pKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tBeGlvc0F1dGgucG9zdCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIFNob3VsZCBjb21wbGV0ZSBpbiA8IDJzXG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiYXhpb3NBdXRoIiwicG9zdCIsImZuIiwiYXhpb3NBcGkiLCJnZXQiLCJwYXRjaCIsImRlbGV0ZSIsInVzZVJvdXRlciIsInB1c2giLCJyZXBsYWNlIiwiYmFjayIsImZvcndhcmQiLCJyZWZyZXNoIiwicmVuZGVyV2l0aFByb3ZpZGVycyIsImNvbXBvbmVudCIsInJlbmRlciIsImRlc2NyaWJlIiwibW9ja0F4aW9zQXV0aCIsIm1vY2tBeGlvc0FwaSIsIm1vY2tSb3V0ZXIiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiTG9naW5Gb3JtIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImdldEJ5TGFiZWxUZXh0IiwiZ2V0QnlSb2xlIiwibmFtZSIsImZvcm0iLCJlbWFpbElucHV0IiwicGFzc3dvcmRJbnB1dCIsInRvSGF2ZUF0dHJpYnV0ZSIsInVzZXIiLCJ1c2VyRXZlbnQiLCJzZXR1cCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsImRhdGEiLCJhY2Nlc3MiLCJpZCIsImVtYWlsIiwiYWN0IiwidHlwZSIsImNsaWNrIiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwicGFzc3dvcmQiLCJ0aW1lb3V0IiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwicmVzcG9uc2UiLCJkZXRhaWwiLCJnZXRCeVRleHQiLCJ2YWxpZENyZWRlbnRpYWxzIiwiZm9yRWFjaCIsImNyZWRlbnRpYWxzIiwiaW5kZXgiLCJzdWJtaXRCdXR0b24iLCJ0YWIiLCJ0b0hhdmVGb2N1cyIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiZW5kVGltZSIsInRvQmVMZXNzVGhhbiIsInRvSGF2ZUJlZW5DYWxsZWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OztDQUtDO0FBZUQsK0JBQStCO0FBQy9CQSxLQUFLQyxJQUFJLENBQUMsb0JBQW9CLElBQU8sQ0FBQTtRQUNuQ0MsV0FBVztZQUFFQyxNQUFNSCxLQUFLSSxFQUFFO1FBQUc7SUFDL0IsQ0FBQTtBQUVBSixLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0ksVUFBVTtZQUFFQyxLQUFLTixLQUFLSSxFQUFFO1lBQUlELE1BQU1ILEtBQUtJLEVBQUU7WUFBSUcsT0FBT1AsS0FBS0ksRUFBRTtZQUFJSSxRQUFRUixLQUFLSSxFQUFFO1FBQUc7SUFDbkYsQ0FBQTtBQUVBSixLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ1EsV0FBVyxJQUFPLENBQUE7Z0JBQ2hCQyxNQUFNVixLQUFLSSxFQUFFO2dCQUNiTyxTQUFTWCxLQUFLSSxFQUFFO2dCQUNoQlEsTUFBTVosS0FBS0ksRUFBRTtnQkFDYlMsU0FBU2IsS0FBS0ksRUFBRTtnQkFDaEJVLFNBQVNkLEtBQUtJLEVBQUU7WUFDbEIsQ0FBQTtJQUNGLENBQUE7Ozs7OzhEQTlCa0I7d0JBQ3NDO2tFQUNsQztRQUNmOzJCQUVtQjs7Ozs7O0FBRzFCLHFDQUFxQztBQUNyQyxNQUFNVyxzQkFBc0IsQ0FBQ0M7SUFDM0IsT0FBT0MsSUFBQUEsY0FBTSxFQUFDRDtBQUNoQjtBQXFCQUUsU0FB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