{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/test-utils/contract/api-contract.test.ts"],"sourcesContent":["/**\n * API Contract Tests - Verify the real endpoints exist and return expected shapes\n * These catch when backend routes change or are missing\n */\n\ndescribe('API Contract Tests', () => {\n  const projectId = '203062be-58d0-4f98-bbd4-33b4ce081276';\n\n  it('flashcard sets endpoint should exist and return expected format', async () => {\n    // This would have caught if the endpoint didn't exist\n    const response = await fetch(`http://localhost:8000/generation/api/projects/${projectId}/flashcard-sets/`);\n    \n    // Should get 401 (auth required) not 404 (endpoint missing)  \n    expect([200, 401]).toContain(response.status);\n    \n    if (response.status === 200) {\n      const data = await response.json();\n      expect(Array.isArray(data) || (data && Array.isArray(data.results))).toBeTruthy();\n    } else if (response.status === 401) {\n      // 401 means endpoint exists but requires auth - this is good!\n      const data = await response.json();\n      expect(data.detail).toMatch(/authentication|credentials/i);\n    }\n  });\n\n  it('project details endpoint should exist', async () => {\n    const response = await fetch(`http://localhost:8000/api/projects/${projectId}/`);\n    expect([200, 401, 403]).toContain(response.status);\n  });\n\n  it('diagnostic sessions endpoint should exist', async () => {  \n    const response = await fetch(`http://localhost:8000/generation/api/diagnostic-sessions/?project=${projectId}`);\n    expect([200, 401]).toContain(response.status);\n  });\n});\n"],"names":["describe","projectId","it","response","fetch","expect","toContain","status","data","json","Array","isArray","results","toBeTruthy","detail","toMatch"],"mappings":"AAAA;;;CAGC;AAEDA,SAAS,sBAAsB;IAC7B,MAAMC,YAAY;IAElBC,GAAG,mEAAmE;QACpE,sDAAsD;QACtD,MAAMC,WAAW,MAAMC,MAAM,CAAC,8CAA8C,EAAEH,UAAU,gBAAgB,CAAC;QAEzG,8DAA8D;QAC9DI,OAAO;YAAC;YAAK;SAAI,EAAEC,SAAS,CAACH,SAASI,MAAM;QAE5C,IAAIJ,SAASI,MAAM,KAAK,KAAK;YAC3B,MAAMC,OAAO,MAAML,SAASM,IAAI;YAChCJ,OAAOK,MAAMC,OAAO,CAACH,SAAUA,QAAQE,MAAMC,OAAO,CAACH,KAAKI,OAAO,GAAIC,UAAU;QACjF,OAAO,IAAIV,SAASI,MAAM,KAAK,KAAK;YAClC,8DAA8D;YAC9D,MAAMC,OAAO,MAAML,SAASM,IAAI;YAChCJ,OAAOG,KAAKM,MAAM,EAAEC,OAAO,CAAC;QAC9B;IACF;IAEAb,GAAG,yCAAyC;QAC1C,MAAMC,WAAW,MAAMC,MAAM,CAAC,mCAAmC,EAAEH,UAAU,CAAC,CAAC;QAC/EI,OAAO;YAAC;YAAK;YAAK;SAAI,EAAEC,SAAS,CAACH,SAASI,MAAM;IACnD;IAEAL,GAAG,6CAA6C;QAC9C,MAAMC,WAAW,MAAMC,MAAM,CAAC,kEAAkE,EAAEH,WAAW;QAC7GI,OAAO;YAAC;YAAK;SAAI,EAAEC,SAAS,CAACH,SAASI,MAAM;IAC9C;AACF"}