{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/features/projects/components/ProjectErrorBoundary.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error?: Error;\n}\n\ninterface ErrorBoundaryProps {\n  children: React.ReactNode;\n  fallback?: React.ComponentType<{ error?: Error; resetError: () => void }>;\n}\n\n/**\n * Error boundary component for handling project data errors\n */\nexport class ProjectErrorBoundary extends React.Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    // Update state so the next render will show the fallback UI\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    // Log error to monitoring service\n    console.error(\"Project data error:\", error, errorInfo);\n\n    // You can also log the error to an error reporting service here\n    // Example: Sentry.captureException(error, { extra: errorInfo });\n  }\n\n  resetError = () => {\n    this.setState({ hasError: false, error: undefined });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      if (this.props.fallback) {\n        const FallbackComponent = this.props.fallback;\n        return (\n          <FallbackComponent\n            error={this.state.error}\n            resetError={this.resetError}\n          />\n        );\n      }\n\n      return (\n        <div className=\"p-6 bg-red-50 border border-red-200 rounded-lg\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <svg\n                className=\"h-5 w-5 text-red-400\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n                aria-hidden=\"true\"\n              >\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z\"\n                  clipRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">\n                Error loading project data\n              </h3>\n              <div className=\"mt-2 text-sm text-red-700\">\n                <p>\n                  There was an error loading the project information. Please try\n                  refreshing the page.\n                </p>\n                {this.state.error && (\n                  <details className=\"mt-2\">\n                    <summary className=\"cursor-pointer text-xs\">\n                      Error details\n                    </summary>\n                    <pre className=\"mt-1 text-xs bg-red-100 p-2 rounded overflow-auto\">\n                      {this.state.error.message}\n                    </pre>\n                  </details>\n                )}\n              </div>\n              <div className=\"mt-4\">\n                <button\n                  type=\"button\"\n                  onClick={this.resetError}\n                  className=\"rounded-md bg-red-50 px-2 py-1.5 text-sm font-medium text-red-800 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 focus:ring-offset-red-50\"\n                >\n                  Try again\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n/**\n * Hook for using error boundary functionality in functional components\n */\nexport function useProjectErrorHandler() {\n  const [error, setError] = React.useState<Error | null>(null);\n\n  const handleError = React.useCallback((error: Error) => {\n    console.error(\"Project error:\", error);\n    setError(error);\n  }, []);\n\n  const resetError = React.useCallback(() => {\n    setError(null);\n  }, []);\n\n  return { error, handleError, resetError };\n}\n"],"names":["ProjectErrorBoundary","useProjectErrorHandler","React","Component","constructor","props","resetError","setState","hasError","error","undefined","state","getDerivedStateFromError","componentDidCatch","errorInfo","console","render","fallback","FallbackComponent","div","className","svg","viewBox","fill","aria-hidden","path","fillRule","d","clipRule","h3","p","details","summary","pre","message","button","type","onClick","children","setError","useState","handleError","useCallback"],"mappings":"AAAA;;;;;;;;;;;;IAiBaA,oBAAoB;eAApBA;;IAkGGC,sBAAsB;eAAtBA;;;;8DAjHE;;;;;;AAeX,MAAMD,6BAA6BE,cAAK,CAACC,SAAS;IAIvDC,YAAYC,KAAyB,CAAE;QACrC,KAAK,CAACA,aAiBRC,aAAa;YACX,IAAI,CAACC,QAAQ,CAAC;gBAAEC,UAAU;gBAAOC,OAAOC;YAAU;QACpD;QAlBE,IAAI,CAACC,KAAK,GAAG;YAAEH,UAAU;QAAM;IACjC;IAEA,OAAOI,yBAAyBH,KAAY,EAAsB;QAChE,4DAA4D;QAC5D,OAAO;YAAED,UAAU;YAAMC;QAAM;IACjC;IAEAI,kBAAkBJ,KAAY,EAAEK,SAA0B,EAAE;QAC1D,kCAAkC;QAClCC,QAAQN,KAAK,CAAC,uBAAuBA,OAAOK;IAE5C,gEAAgE;IAChE,iEAAiE;IACnE;IAMAE,SAAS;QACP,IAAI,IAAI,CAACL,KAAK,CAACH,QAAQ,EAAE;YACvB,wCAAwC;YACxC,IAAI,IAAI,CAACH,KAAK,CAACY,QAAQ,EAAE;gBACvB,MAAMC,oBAAoB,IAAI,CAACb,KAAK,CAACY,QAAQ;gBAC7C,qBACE,qBAACC;oBACCT,OAAO,IAAI,CAACE,KAAK,CAACF,KAAK;oBACvBH,YAAY,IAAI,CAACA,UAAU;;YAGjC;YAEA,qBACE,qBAACa;gBAAIC,WAAU;0BACb,cAAA,sBAACD;oBAAIC,WAAU;;sCACb,qBAACD;4BAAIC,WAAU;sCACb,cAAA,qBAACC;gCACCD,WAAU;gCACVE,SAAQ;gCACRC,MAAK;gCACLC,eAAY;0CAEZ,cAAA,qBAACC;oCACCC,UAAS;oCACTC,GAAE;oCACFC,UAAS;;;;sCAIf,sBAACT;4BAAIC,WAAU;;8CACb,qBAACS;oCAAGT,WAAU;8CAAmC;;8CAGjD,sBAACD;oCAAIC,WAAU;;sDACb,qBAACU;sDAAE;;wCAIF,IAAI,CAACnB,KAAK,CAACF,KAAK,kBACf,sBAACsB;4CAAQX,WAAU;;8DACjB,qBAACY;oDAAQZ,WAAU;8DAAyB;;8DAG5C,qBAACa;oDAAIb,WAAU;8DACZ,IAAI,CAACT,KAAK,CAACF,KAAK,CAACyB,OAAO;;;;;;8CAKjC,qBAACf;oCAAIC,WAAU;8CACb,cAAA,qBAACe;wCACCC,MAAK;wCACLC,SAAS,IAAI,CAAC/B,UAAU;wCACxBc,WAAU;kDACX;;;;;;;;QAQb;QAEA,OAAO,IAAI,CAACf,KAAK,CAACiC,QAAQ;IAC5B;AACF;AAKO,SAASrC;IACd,MAAM,CAACQ,OAAO8B,SAAS,GAAGrC,cAAK,CAACsC,QAAQ,CAAe;IAEvD,MAAMC,cAAcvC,cAAK,CAACwC,WAAW,CAAC,CAACjC;QACrCM,QAAQN,KAAK,CAAC,kBAAkBA;QAChC8B,SAAS9B;IACX,GAAG,EAAE;IAEL,MAAMH,aAAaJ,cAAK,CAACwC,WAAW,CAAC;QACnCH,SAAS;IACX,GAAG,EAAE;IAEL,OAAO;QAAE9B;QAAOgC;QAAanC;IAAW;AAC1C"}