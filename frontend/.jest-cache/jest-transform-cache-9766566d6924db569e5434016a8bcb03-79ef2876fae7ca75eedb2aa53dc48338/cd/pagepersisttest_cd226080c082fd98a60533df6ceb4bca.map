{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/app/projects/[projectId]/flashcards/__tests__/page-persist.test.tsx"],"sourcesContent":["import { render, act, waitFor } from '@testing-library/react'\nimport React from 'react'\nimport ProjectFlashcards from '../page'\n\njest.mock('next/navigation', () => ({\n  useParams: () => ({ projectId: '203062be-58d0-4f98-bbd4-33b4ce081276' }),\n  useRouter: () => ({ push: jest.fn(), replace: jest.fn(), back: jest.fn() }),\n}))\n\njest.mock('../hooks/use-project-flashcards', () => ({\n  useProjectFlashcards: () => ({ flashcardSets: [], stats: { total_sets:0, total_cards:0, due_today:0, learning_cards:0, mastered_cards:0, average_accuracy:0 }, isLoading: false, error: null })\n}))\n\ndescribe('ProjectFlashcards - persistence', () => {\n  it('stores activeProjectId on load', async () => {\n    const setItem = jest.fn()\n    const storageMock = {\n      getItem: jest.fn(),\n      setItem,\n      removeItem: jest.fn(),\n      clear: jest.fn(),\n      key: jest.fn(),\n      length: 0,\n    }\n    // @ts-ignore\n    global.localStorage = storageMock\n    // @ts-ignore\n    global.window = { ...(global.window || {}), localStorage: storageMock }\n\n    act(() => {\n      render(<ProjectFlashcards />)\n    })\n\n    await waitFor(() => {\n      expect(setItem).toHaveBeenCalledWith('activeProjectId', '203062be-58d0-4f98-bbd4-33b4ce081276')\n    })\n  })\n})\n"],"names":["jest","mock","useParams","projectId","useRouter","push","fn","replace","back","useProjectFlashcards","flashcardSets","stats","total_sets","total_cards","due_today","learning_cards","mastered_cards","average_accuracy","isLoading","error","describe","it","setItem","storageMock","getItem","removeItem","clear","key","length","global","localStorage","window","act","render","ProjectFlashcards","waitFor","expect","toHaveBeenCalledWith"],"mappings":";AAIAA,KAAKC,IAAI,CAAC,mBAAmB,IAAO,CAAA;QAClCC,WAAW,IAAO,CAAA;gBAAEC,WAAW;YAAuC,CAAA;QACtEC,WAAW,IAAO,CAAA;gBAAEC,MAAML,KAAKM,EAAE;gBAAIC,SAASP,KAAKM,EAAE;gBAAIE,MAAMR,KAAKM,EAAE;YAAG,CAAA;IAC3E,CAAA;AAEAN,KAAKC,IAAI,CAAC,mCAAmC,IAAO,CAAA;QAClDQ,sBAAsB,IAAO,CAAA;gBAAEC,eAAe,EAAE;gBAAEC,OAAO;oBAAEC,YAAW;oBAAGC,aAAY;oBAAGC,WAAU;oBAAGC,gBAAe;oBAAGC,gBAAe;oBAAGC,kBAAiB;gBAAE;gBAAGC,WAAW;gBAAOC,OAAO;YAAK,CAAA;IAC/L,CAAA;;;;;uBAXqC;+DACnB;6DACY;;;;;;AAW9BC,SAAS,mCAAmC;IAC1CC,GAAG,kCAAkC;QACnC,MAAMC,UAAUtB,KAAKM,EAAE;QACvB,MAAMiB,cAAc;YAClBC,SAASxB,KAAKM,EAAE;YAChBgB;YACAG,YAAYzB,KAAKM,EAAE;YACnBoB,OAAO1B,KAAKM,EAAE;YACdqB,KAAK3B,KAAKM,EAAE;YACZsB,QAAQ;QACV;QACA,aAAa;QACbC,OAAOC,YAAY,GAAGP;QACtB,aAAa;QACbM,OAAOE,MAAM,GAAG;YAAE,GAAIF,OAAOE,MAAM,IAAI,CAAC,CAAC;YAAGD,cAAcP;QAAY;QAEtES,IAAAA,UAAG,EAAC;YACFC,IAAAA,aAAM,gBAAC,qBAACC,aAAiB;QAC3B;QAEA,MAAMC,IAAAA,cAAO,EAAC;YACZC,OAAOd,SAASe,oBAAoB,CAAC,mBAAmB;QAC1D;IACF;AACF"}