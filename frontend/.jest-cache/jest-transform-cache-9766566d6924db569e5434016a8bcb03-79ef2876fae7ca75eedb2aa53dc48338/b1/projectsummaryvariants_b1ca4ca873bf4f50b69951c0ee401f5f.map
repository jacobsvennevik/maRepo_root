{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/features/projects/components/project-summary-variants.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { \n  Check, FileText, ChevronLeft, Calendar, Clock, Users, Target, \n  GraduationCap, BookOpen, FlaskConical, Presentation, FileCheck,\n  User, Trophy, Brain, Heart, Eye, Ear, HandIcon, PenTool,\n  Coffee, Moon, Sun, Zap, Smartphone, Monitor, Gamepad2,\n  Sparkles, Rocket, Star, TrendingUp, Award, Waves, Activity,\n  CheckCircle, Eye as EyeIcon, BookOpen as BookOpenIcon, BookMarked\n} from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ProjectSetup } from '../types';\nimport { uploadFile, createProject, ProjectData } from '../services/api';\nimport { \n  TIMEFRAME_OPTIONS, \n  FREQUENCY_OPTIONS, \n  TEST_LEVEL_OPTIONS,\n  GRADE_LEVEL_OPTIONS\n} from '../constants/options';\nimport { formatFileSize, formatDate } from '../utils/formatters';\nimport { validateProjectCreateInput, type ProjectCreateInput } from '../types';\nimport { isTestMode } from '../services/mock-data';\n\n// Variant 1: Colorful Dashboard Style\nexport function ProjectSummaryColorful({ setup, onBack }: { setup: ProjectSetup; onBack: () => void }): React.ReactElement {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const router = useRouter();\n  const authToken = '203e2ee2825aaf19fbd5a9a5c4768c243944058c';\n\n  const totalFiles = (setup.courseFiles || []).length + (setup.testFiles || []).length + (setup.uploadedFiles || []).length;\n  const upcomingDates = setup.importantDates.filter(date => new Date(date.date) > new Date()).length;\n\n  const handleCreateProject = async () => {\n    setIsSubmitting(true);\n    try {\n      // Always create real projects, even in test mode\n      // Test mode only affects AI calls, not project creation\n      console.log('Creating project with data:', setup);\n\n      // Real API calls for production\n      // 1. Upload files and get their URLs\n      const courseFileUrls = await Promise.all(\n        setup.courseFiles.map(file => uploadFile(file, 'course-files'))\n      );\n      const testFileUrls = await Promise.all(\n        setup.testFiles.map(file => uploadFile(file, 'test-files'))\n      );\n\n      // 2. Prepare project data\n      const projectData = validateProjectCreateInput({\n        name: setup.projectName,\n        project_type: 'school', // This is the school setup\n        study_frequency: setup.studyFrequency,\n        important_dates: setup.importantDates.map(d => ({ title: d.description, date: d.date })),\n        // Include uploaded file URLs\n        course_files: courseFileUrls,\n        test_files: testFileUrls,\n        // Mock mode flags for backend AI mocking\n        mock_mode: isTestMode(), // Only mock AI calls\n        seed_syllabus: true,\n        seed_tests: true,\n        seed_content: true,\n        seed_flashcards: false,\n      });\n\n      // 3. Create project\n      const newProject = await createProject(projectData);\n\n      // 4. Navigate to the new project's overview page\n      router.push(`/projects/${newProject.id}/overview`);\n\n    } catch (error) {\n      console.error(\"Failed to create project:\", error);\n      // Handle error (e.g., show a toast notification)\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-indigo-100\">\n      <div className=\"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8\">\n        {/* Header with Animation */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <Button variant=\"ghost\" onClick={onBack} className=\"flex items-center hover:scale-105 transition-transform\">\n            <ChevronLeft size={16} className=\"mr-1\" />\n            Back to Setup\n          </Button>\n          <div className=\"flex items-center space-x-2\">\n            <Sparkles className=\"h-5 w-5 text-purple-500 animate-pulse\" />\n            <span className=\"text-sm font-medium text-purple-700\">Almost Ready!</span>\n          </div>\n        </div>\n\n        {/* Hero Section - More Dynamic */}\n        <Card className=\"overflow-hidden mb-8 border-0 shadow-2xl\">\n          <div className=\"relative bg-gradient-to-r from-purple-600 via-pink-600 to-red-500 text-white p-8\">\n            {/* Animated Background Elements */}\n            <div className=\"absolute top-0 left-0 w-full h-full overflow-hidden\">\n              <div className=\"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full animate-bounce\"></div>\n              <div className=\"absolute top-20 right-20 w-16 h-16 bg-white/5 rounded-full animate-pulse\"></div>\n              <div className=\"absolute bottom-10 left-1/3 w-12 h-12 bg-white/15 rounded-full animate-ping\"></div>\n            </div>\n            \n            <div className=\"relative z-10\">\n              <div className=\"flex items-center justify-between flex-wrap gap-4\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mr-6 shadow-lg\">\n                    <Rocket className=\"h-8 w-8 text-white\" />\n                  </div>\n                  <div>\n                    <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">{setup.projectName}</h1>\n                    <div className=\"flex items-center space-x-2\">\n                      <Badge className=\"bg-white/20 text-white border-white/30 hover:bg-white/30\">\n                        <Star className=\"h-3 w-3 mr-1\" />\n                        School Project\n                      </Badge>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-5xl font-bold\">{totalFiles}</div>\n                  <div className=\"text-lg text-white/80\">Study Materials</div>\n                  <div className=\"text-sm text-white/60\">Ready to Process</div>\n                </div>\n              </div>\n              \n              {/* Enhanced Stats Grid */}\n              <div className=\"mt-8 grid grid-cols-2 md:grid-cols-3 gap-4\">\n                {[\n                  { icon: Calendar, label: 'Timeline', value: TIMEFRAME_OPTIONS.find(opt => opt.value === setup.timeframe)?.label, color: 'from-blue-400 to-blue-600' },\n                  { icon: Clock, label: 'Frequency', value: FREQUENCY_OPTIONS.find(opt => opt.value === setup.studyFrequency)?.label, color: 'from-green-400 to-green-600' },\n                  { icon: Trophy, label: 'Level', value: TEST_LEVEL_OPTIONS.find(opt => opt.value === setup.testLevel)?.label, color: 'from-yellow-400 to-yellow-600' }\n                ].map((stat, index) => (\n                  <div key={index} className={`bg-gradient-to-r ${stat.color} rounded-xl p-4 text-center shadow-lg hover:scale-105 transition-transform duration-200`}>\n                    <stat.icon className=\"h-6 w-6 mx-auto mb-2\" />\n                    <div className=\"text-xs text-white/80\">{stat.label}</div>\n                    <div className=\"font-bold text-sm\">{stat.value}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        {/* Main Content Grid */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\n          {/* Left Column - Enhanced Cards */}\n          <div className=\"lg:col-span-8 space-y-6\">\n            \n            {/* Academic Details - Enhanced */}\n            <Card className=\"border-0 shadow-lg\">\n              <CardHeader className=\"bg-gradient-to-r from-blue-50 to-indigo-50\">\n                <CardTitle className=\"flex items-center text-blue-700\">\n                  <div className=\"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mr-3\">\n                    <GraduationCap className=\"h-5 w-5 text-white\" />\n                  </div>\n                  Academic Journey\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"pt-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                        <Award className=\"h-4 w-4 text-blue-600\" />\n                      </div>\n                      <div>\n                        <h4 className=\"font-semibold text-gray-900\">Education Level</h4>\n                        <p className=\"text-gray-600\">{TEST_LEVEL_OPTIONS.find(opt => opt.value === setup.testLevel)?.label}</p>\n                      </div>\n                    </div>\n                    {setup.gradeLevel && (\n                      <div className=\"ml-11\">\n                        <Badge variant=\"outline\" className=\"bg-blue-50 text-blue-700 border-blue-200\">\n                          {GRADE_LEVEL_OPTIONS.find(opt => opt.value === setup.gradeLevel)?.label}\n                        </Badge>\n                      </div>\n                    )}\n                  </div>\n                  \n                  {setup.assignmentDescription && (\n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-start space-x-3\">\n                        <div className=\"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center\">\n                          <BookMarked className=\"h-4 w-4 text-purple-600\" />\n                        </div>\n                        <div>\n                          <h4 className=\"font-semibold text-gray-900\">Course Focus</h4>\n                          <p className=\"text-gray-600 text-sm leading-relaxed\">{setup.assignmentDescription}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n                \n              </CardContent>\n            </Card>\n\n          </div>\n\n          {/* Right Column - Enhanced Sidebar */}\n          <div className=\"lg:col-span-4 space-y-6\">\n            \n            {/* Study Materials - More Visual */}\n            {totalFiles > 0 && (\n              <Card className=\"border-0 shadow-lg\">\n                <CardHeader className=\"bg-gradient-to-r from-green-50 to-emerald-50\">\n                  <CardTitle className=\"flex items-center justify-between\">\n                    <span className=\"flex items-center text-green-700\">\n                      <div className=\"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mr-2\">\n                        <FileText className=\"h-4 w-4 text-white\" />\n                      </div>\n                      Study Arsenal\n                    </span>\n                    <Badge className=\"bg-green-100 text-green-700 border-green-200\">{totalFiles} files</Badge>\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"pt-4\">\n                  {/* Course Files */}\n                  {setup.courseFiles && setup.courseFiles.length > 0 && (\n                    <div className=\"mb-4\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h4 className=\"font-semibold text-gray-900 flex items-center text-sm\">\n                          <div className=\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2\">\n                            <BookOpen className=\"h-3 w-3 text-blue-600\" />\n                          </div>\n                          Course Materials\n                        </h4>\n                        <Badge variant=\"outline\" className=\"bg-blue-50 text-blue-600 border-blue-200 text-xs\">\n                          {setup.courseFiles.length}\n                        </Badge>\n                      </div>\n                      <div className=\"space-y-2\">\n                        {setup.courseFiles.slice(0, 2).map((file, index) => (\n                          <div key={index} className=\"group flex items-center space-x-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg hover:shadow-md transition-shadow\">\n                            <div className=\"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center\">\n                              <FileText className=\"h-4 w-4 text-white\" />\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"text-sm font-medium text-blue-900 truncate\">{file.name}</p>\n                              <p className=\"text-xs text-blue-600\">{formatFileSize(file.size)}</p>\n                            </div>\n                          </div>\n                        ))}\n                        {setup.courseFiles.length > 2 && (\n                          <div className=\"text-center py-2\">\n                            <Badge variant=\"outline\" className=\"bg-blue-50 text-blue-600 border-blue-200 text-xs\">\n                              +{setup.courseFiles.length - 2} more files\n                            </Badge>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Test Files */}\n                  {setup.testFiles && setup.testFiles.length > 0 && (\n                    <div className=\"mb-4\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h4 className=\"font-semibold text-gray-900 flex items-center text-sm\">\n                          <div className=\"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2\">\n                            <FileCheck className=\"h-3 w-3 text-purple-600\" />\n                          </div>\n                          Test Prep\n                        </h4>\n                        <Badge variant=\"outline\" className=\"bg-purple-50 text-purple-600 border-purple-200 text-xs\">\n                          {setup.testFiles.length}\n                        </Badge>\n                      </div>\n                      <div className=\"space-y-2\">\n                        {setup.testFiles.slice(0, 2).map((file, index) => (\n                          <div key={index} className=\"group flex items-center space-x-3 p-3 bg-gradient-to-r from-purple-50 to-violet-50 border border-purple-200 rounded-lg hover:shadow-md transition-shadow\">\n                            <div className=\"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center\">\n                              <FileCheck className=\"h-4 w-4 text-white\" />\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"text-sm font-medium text-purple-900 truncate\">{file.name}</p>\n                              <p className=\"text-xs text-purple-600\">{formatFileSize(file.size)}</p>\n                            </div>\n                          </div>\n                        ))}\n                        {setup.testFiles.length > 2 && (\n                          <div className=\"text-center py-2\">\n                            <Badge variant=\"outline\" className=\"bg-purple-50 text-purple-600 border-purple-200 text-xs\">\n                              +{setup.testFiles.length - 2} more files\n                            </Badge>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Important Dates - Enhanced */}\n            {setup.importantDates && setup.importantDates.length > 0 && (\n              <Card className=\"border-0 shadow-lg\">\n                <CardHeader className=\"bg-gradient-to-r from-red-50 to-pink-50\">\n                  <CardTitle className=\"flex items-center justify-between\">\n                    <span className=\"flex items-center text-red-700\">\n                      <div className=\"w-8 h-8 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center mr-2\">\n                        <Calendar className=\"h-4 w-4 text-white\" />\n                      </div>\n                      Key Dates\n                    </span>\n                    <Badge className=\"bg-red-100 text-red-700 border-red-200 animate-pulse\">\n                      {upcomingDates} upcoming\n                    </Badge>\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"pt-4\">\n                  <div className=\"space-y-3\">\n                    {setup.importantDates\n                      .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())\n                      .slice(0, 4)\n                      .map((dateItem, index) => {\n                        const isUpcoming = new Date(dateItem.date) > new Date();\n                        return (\n                          <div key={index} className={`p-3 rounded-lg border-2 transition-all hover:shadow-md ${\n                            isUpcoming \n                              ? 'bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-300 shadow-yellow-100' \n                              : 'bg-gray-50 border-gray-200'\n                          }`}>\n                            <div className=\"flex items-start space-x-3\">\n                              <div className={`w-3 h-3 rounded-full mt-1 ${\n                                isUpcoming ? 'bg-yellow-400 animate-pulse' : 'bg-gray-300'\n                              }`} />\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-center gap-2 mb-1\">\n                                  <Badge className={`text-xs ${dateItem.type === 'exam' ? 'bg-purple-100 text-purple-700' : 'bg-gray-100 text-gray-700'}`}>\n                                    {dateItem.type === 'exam' ? 'Exam' : 'Event'}\n                                  </Badge>\n                                  {isUpcoming && (\n                                    <Badge className=\"bg-yellow-100 text-yellow-800 border-yellow-300 text-xs animate-bounce\">\n                                      Upcoming!\n                                    </Badge>\n                                  )}\n                                </div>\n                                <p className=\"font-medium text-sm text-gray-900 leading-snug\">{dateItem.description}</p>\n                                <p className=\"text-xs text-gray-600 mt-1 font-mono\">{formatDate(dateItem.date)}</p>\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    {setup.importantDates.length > 4 && (\n                      <div className=\"text-center py-2\">\n                        <Badge variant=\"outline\" className=\"bg-gray-50 text-gray-600 border-gray-200 text-xs\">\n                          +{setup.importantDates.length - 4} more dates\n                        </Badge>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n\n        {/* Action Section - More Engaging */}\n        <Card className=\"mt-8 border-0 shadow-xl bg-gradient-to-r from-emerald-50 via-teal-50 to-cyan-50\">\n          <CardContent className=\"p-8\">\n            <div className=\"flex flex-col md:flex-row items-center justify-between gap-6\">\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center\">\n                  <Rocket className=\"h-8 w-8 text-white\" />\n                </div>\n                <div>\n                  <h3 className=\"text-2xl font-bold text-gray-900 mb-1\">Ready for Liftoff? 🚀</h3>\n                  <p className=\"text-gray-600\">Your personalized learning adventure is about to begin!</p>\n                  <div className=\"flex items-center space-x-4 mt-2 text-sm text-gray-500\">\n                    <span className=\"flex items-center\">\n                      <Check className=\"h-4 w-4 mr-1 text-green-500\" />\n                      {totalFiles} files processed\n                    </span>\n                    <span className=\"flex items-center\">\n                      <Check className=\"h-4 w-4 mr-1 text-green-500\" />\n                      {upcomingDates} dates tracked\n                    </span>\n                    <span className=\"flex items-center\">\n                      <Check className=\"h-4 w-4 mr-1 text-green-500\" />\n                      AI tutor ready\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"flex flex-col sm:flex-row gap-3\">\n                <Button variant=\"outline\" onClick={onBack} className=\"hover:scale-105 transition-transform\">\n                  ✏️ Fine-tune Setup\n                </Button>\n                <Button \n                  onClick={handleCreateProject} \n                  disabled={isSubmitting} \n                  className=\"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white font-semibold px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200\"\n                >\n                  {isSubmitting ? (\n                    <span className=\"flex items-center\">\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      Creating Magic...\n                    </span>\n                  ) : (\n                    <span className=\"flex items-center\">\n                      <Sparkles className=\"h-4 w-4 mr-2\" />\n                      Start Learning Journey\n                    </span>\n                  )}\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n\n// Variant 2: Glass Morphism Style\nexport function ProjectSummaryGlass({ setup, onBack }: { setup: ProjectSetup; onBack: () => void }): React.ReactElement {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const router = useRouter();\n  const authToken = '203e2ee2825aaf19fbd5a9a5c4768c243944058c';\n  const totalFiles = (setup.courseFiles || []).length + (setup.testFiles || []).length + (setup.uploadedFiles || []).length;\n  const upcomingDates = setup.importantDates.filter(date => new Date(date.date) > new Date()).length;\n\n  const handleCreateProject = async () => {\n    setIsSubmitting(true);\n    try {\n      // Always create real projects, even in test mode\n      // Test mode only affects AI calls, not project creation\n      console.log('Creating project with data:', setup);\n\n      // Real API calls for production\n      // 1. Upload files and get their URLs\n      const courseFileUrls = await Promise.all(\n        setup.courseFiles.map(file => uploadFile(file, 'course-files'))\n      );\n      const testFileUrls = await Promise.all(\n        setup.testFiles.map(file => uploadFile(file, 'test-files'))\n      );\n\n      // 2. Prepare project data\n      const projectData: ProjectData = {\n        name: setup.projectName,\n        project_type: 'school', // This is the school setup\n        study_frequency: setup.studyFrequency,\n        important_dates: setup.importantDates.map(d => ({ title: d.description, date: d.date })),\n        // Include uploaded file URLs\n        course_files: courseFileUrls,\n        test_files: testFileUrls,\n        // Mock mode flags for backend AI mocking\n        mock_mode: isTestMode(), // Only mock AI calls\n        seed_syllabus: true,\n        seed_tests: true,\n        seed_content: true,\n        seed_flashcards: false,\n        // Add other fields from the 'setup' object as needed\n      };\n\n      // 3. Create project\n      const newProject = await createProject(projectData);\n\n      // 4. Navigate to the new project's overview page\n      router.push(`/projects/${newProject.id}/overview`);\n\n    } catch (error) {\n      console.error(\"Failed to create project:\", error);\n      // Handle error (e.g., show a toast notification)\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 relative overflow-hidden\">\n      {/* Animated Background */}\n      <div className=\"absolute inset-0\">\n        <div className=\"absolute top-0 left-0 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob\"></div>\n        <div className=\"absolute top-0 right-0 w-72 h-72 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000\"></div>\n        <div className=\"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000\"></div>\n      </div>\n\n      <div className=\"relative z-10 max-w-6xl mx-auto p-4 sm:p-6 lg:p-8\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <Button \n            variant=\"ghost\" \n            onClick={onBack} \n            className=\"flex items-center text-white/80 hover:text-white hover:bg-white/10 backdrop-blur-sm border border-white/20\"\n          >\n            <ChevronLeft size={16} className=\"mr-1\" />\n            Back to Setup\n          </Button>\n        </div>\n\n        {/* Hero - Glass Card */}\n        <div className=\"backdrop-blur-lg bg-white/10 border border-white/20 rounded-3xl p-8 mb-8 shadow-2xl\">\n          <div className=\"flex items-center justify-between text-white\">\n            <div className=\"flex items-center\">\n              <div className=\"w-20 h-20 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-2xl flex items-center justify-center mr-6 shadow-lg backdrop-blur-sm\">\n                <Star className=\"h-10 w-10 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-4xl font-bold mb-2 bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent\">\n                  {setup.projectName}\n                </h1>\n                <p className=\"text-white/80 text-lg\">School Project</p>\n              </div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-6xl font-bold bg-gradient-to-r from-cyan-200 to-white bg-clip-text text-transparent\">\n                {totalFiles}\n              </div>\n              <div className=\"text-white/60\">Study Materials</div>\n            </div>\n          </div>\n          \n          {/* Floating Stats */}\n          <div className=\"mt-8 grid grid-cols-4 gap-4\">\n            {[\n              { icon: Calendar, label: 'Timeline', value: TIMEFRAME_OPTIONS.find(opt => opt.value === setup.timeframe)?.label },\n              { icon: Clock, label: 'Frequency', value: FREQUENCY_OPTIONS.find(opt => opt.value === setup.studyFrequency)?.label },\n              { icon: Trophy, label: 'Level', value: TEST_LEVEL_OPTIONS.find(opt => opt.value === setup.testLevel)?.label }\n            ].map((stat, index) => (\n              <div key={index} className=\"backdrop-blur-sm bg-white/10 border border-white/30 rounded-2xl p-4 text-center text-white hover:bg-white/20 transition-all duration-300\">\n                <stat.icon className=\"h-6 w-6 mx-auto mb-2 text-cyan-300\" />\n                <div className=\"text-xs text-white/60\">{stat.label}</div>\n                <div className=\"font-semibold text-sm\">{stat.value}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Content Grid */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Academic Details */}\n            <div className=\"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl\">\n              <div className=\"flex items-center mb-6\">\n                <div className=\"w-12 h-12 bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl flex items-center justify-center mr-4\">\n                  <GraduationCap className=\"h-6 w-6 text-white\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-white\">Academic Profile</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 text-white\">\n                <div>\n                  <h4 className=\"font-semibold text-cyan-200 mb-2\">Education Level</h4>\n                  <p className=\"text-white/90\">{TEST_LEVEL_OPTIONS.find(opt => opt.value === setup.testLevel)?.label}</p>\n                </div>\n                {setup.assignmentDescription && (\n                  <div>\n                    <h4 className=\"font-semibold text-cyan-200 mb-2\">Course Focus</h4>\n                    <p className=\"text-white/80 text-sm\">{setup.assignmentDescription}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Files */}\n            <div className=\"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-bold text-white flex items-center\">\n                  <FileText className=\"h-5 w-5 mr-2 text-cyan-300\" />\n                  Materials\n                </h3>\n                <Badge className=\"bg-cyan-500/20 text-cyan-200 border-cyan-300/30\">{totalFiles}</Badge>\n              </div>\n              \n              <div className=\"space-y-3\">\n                {setup.courseFiles.slice(0, 3).map((file, index) => (\n                  <div key={index} className=\"flex items-center space-x-3 p-3 bg-white/5 border border-white/10 rounded-xl\">\n                    <FileText className=\"h-4 w-4 text-cyan-300\" />\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-white/90 text-sm truncate\">{file.name}</p>\n                      <p className=\"text-white/60 text-xs\">{formatFileSize(file.size)}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Dates */}\n            {setup.importantDates.length > 0 && (\n              <div className=\"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-bold text-white flex items-center\">\n                    <Calendar className=\"h-5 w-5 mr-2 text-pink-300\" />\n                    Key Dates\n                  </h3>\n                  <Badge className=\"bg-pink-500/20 text-pink-200 border-pink-300/30\">{upcomingDates}</Badge>\n                </div>\n                \n                <div className=\"space-y-3\">\n                  {setup.importantDates.slice(0, 3).map((dateItem, index) => {\n                    const isUpcoming = new Date(dateItem.date) > new Date();\n                    return (\n                      <div key={index} className={`p-3 rounded-xl border ${\n                        isUpcoming \n                          ? 'bg-yellow-500/10 border-yellow-300/30' \n                          : 'bg-white/5 border-white/10'\n                      }`}>\n                        <p className=\"text-white/90 text-sm font-medium\">{dateItem.description}</p>\n                        <p className=\"text-white/60 text-xs mt-1\">{formatDate(dateItem.date)}</p>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Action Button */}\n        <div className=\"mt-8 text-center\">\n          <div className=\"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-8 shadow-xl\">\n            <h3 className=\"text-2xl font-bold text-white mb-4\">Ready to Begin Your Journey?</h3>\n            <div className=\"flex justify-center gap-4\">\n              <Button \n                variant=\"outline\" \n                onClick={onBack}\n                className=\"border-white/30 text-white hover:bg-white/10 backdrop-blur-sm\"\n              >\n                Edit Setup\n              </Button>\n              <Button \n                onClick={handleCreateProject} \n                disabled={isSubmitting}\n                className=\"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-semibold px-8 py-3 rounded-xl shadow-lg backdrop-blur-sm border border-white/30\"\n              >\n                {isSubmitting ? (\n                  <span className=\"flex items-center\">\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                    Creating Project...\n                  </span>\n                ) : (\n                  <span className=\"flex items-center\">\n                    <Sparkles className=\"h-4 w-4 mr-2\" />\n                    Launch Project\n                  </span>\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Variant 3: Gamified Style\nexport function ProjectSummaryGameified({ setup, onBack }: { setup: ProjectSetup; onBack: () => void }): React.ReactElement {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const router = useRouter();\n  const authToken = '203e2ee2825aaf19fbd5a9a5c4768c243944058c';\n  const totalFiles = (setup.courseFiles || []).length + (setup.testFiles || []).length + (setup.uploadedFiles || []).length;\n  const upcomingDates = setup.importantDates.filter(date => new Date(date.date) > new Date()).length;\n\n  // Calculate \"completion\" percentage for progress bars\n  const setupCompletion = 85; // This could be calculated based on filled fields\n  const readinessLevel = Math.min(100, (totalFiles * 10) + (upcomingDates * 5) + 30);\n\n  const handleCreateProject = async () => {\n    setIsSubmitting(true);\n    try {\n      // Always create real projects, even in test mode\n      // Test mode only affects AI calls, not project creation\n      console.log('Creating project with data:', setup);\n\n      // Real API calls for production\n      // 1. Upload files and get their URLs\n      const courseFileUrls = await Promise.all(\n        setup.courseFiles.map(file => uploadFile(file, 'course-files'))\n      );\n      const testFileUrls = await Promise.all(\n        setup.testFiles.map(file => uploadFile(file, 'test-files'))\n      );\n\n      // 2. Prepare project data\n      const projectData: ProjectData = {\n        name: setup.projectName,\n        project_type: 'school', // This is the school setup\n        study_frequency: setup.studyFrequency,\n        important_dates: setup.importantDates.map(d => ({ title: d.description, date: d.date })),\n        // Include uploaded file URLs\n        course_files: courseFileUrls,\n        test_files: testFileUrls,\n        // Mock mode flags for backend AI mocking\n        mock_mode: isTestMode(), // Only mock AI calls\n        seed_syllabus: true,\n        seed_tests: true,\n        seed_content: true,\n        seed_flashcards: false,\n        // Add other fields from the 'setup' object as needed\n      };\n\n      // 3. Create project\n      const newProject = await createProject(projectData);\n\n      // 4. Navigate to the new project's overview page\n      router.push(`/projects/${newProject.id}/overview`);\n\n    } catch (error) {\n      console.error(\"Failed to create project:\", error);\n      // Handle error (e.g., show a toast notification)\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\">\n      <div className=\"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8\">\n        {/* Header with XP Bar */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <Button variant=\"ghost\" onClick={onBack} className=\"text-white/80 hover:text-white hover:bg-white/10\">\n            <ChevronLeft size={16} className=\"mr-1\" />\n            Back to Character Creation\n          </Button>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"text-right\">\n              <div className=\"text-white/60 text-xs\">Setup Progress</div>\n              <div className=\"text-white font-bold\">{setupCompletion}% Complete</div>\n            </div>\n            <div className=\"w-24 h-2 bg-slate-700 rounded-full overflow-hidden\">\n              <div \n                className=\"h-full bg-gradient-to-r from-yellow-400 to-orange-500 transition-all duration-1000 ease-out\"\n                style={{ width: `${setupCompletion}%` }}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Hero - Character Card */}\n        <Card className=\"bg-gradient-to-r from-indigo-900 to-purple-900 border border-purple-500/50 shadow-2xl mb-8\">\n          <CardContent className=\"p-8\">\n            <div className=\"flex items-center justify-between text-white\">\n              <div className=\"flex items-center\">\n                <div className=\"relative\">\n                  <div className=\"w-24 h-24 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg\">\n                    <Trophy className=\"h-12 w-12 text-white\" />\n                  </div>\n                  <div className=\"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-xs font-bold\">\n                    {Math.floor(totalFiles / 2) + 1}\n                  </div>\n                </div>\n                <div className=\"ml-6\">\n                  <h1 className=\"text-3xl font-bold mb-1\">{setup.projectName}</h1>\n                  <p className=\"text-purple-200 mb-2\">School Project</p>\n                  <div className=\"flex items-center space-x-4\">\n                    <Badge className=\"bg-yellow-500/20 text-yellow-300 border-yellow-400/50\">\n                      <Star className=\"h-3 w-3 mr-1\" />\n                      Learning Hero\n                    </Badge>\n                    <Badge className=\"bg-purple-500/20 text-purple-300 border-purple-400/50\">\n                      Level {Math.floor(setupCompletion / 20) + 1}\n                    </Badge>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Stats Panel */}\n              <div className=\"text-center\">\n                <div className=\"text-4xl font-bold text-yellow-400\">{totalFiles}</div>\n                <div className=\"text-purple-200 text-sm\">Items Collected</div>\n                <div className=\"w-16 h-1 bg-purple-700 rounded-full mt-2 mx-auto overflow-hidden\">\n                  <div className=\"h-full bg-yellow-400 animate-pulse\" style={{ width: '75%' }} />\n                </div>\n              </div>\n            </div>\n            \n            {/* Skill Points */}\n            <div className=\"mt-6 grid grid-cols-4 gap-4\">\n              {[\n                { icon: Calendar, label: 'Time Mgmt', value: TIMEFRAME_OPTIONS.find(opt => opt.value === setup.timeframe)?.label, level: 3 },\n                { icon: Clock, label: 'Focus', value: FREQUENCY_OPTIONS.find(opt => opt.value === setup.studyFrequency)?.label, level: 4 },\n                { icon: Brain, label: 'Knowledge', value: TEST_LEVEL_OPTIONS.find(opt => opt.value === setup.testLevel)?.label, level: 5 }\n              ].map((skill, index) => (\n                <div key={index} className=\"bg-slate-800/50 border border-slate-600 rounded-xl p-4 text-center text-white\">\n                  <skill.icon className=\"h-6 w-6 mx-auto mb-2 text-cyan-400\" />\n                  <div className=\"text-xs text-slate-300 mb-1\">{skill.label}</div>\n                  <div className=\"font-bold text-xs\">{skill.value}</div>\n                  <div className=\"flex justify-center mt-2 space-x-1\">\n                    {[...Array(5)].map((_, i) => (\n                      <div key={i} className={`w-2 h-2 rounded-full ${i < skill.level ? 'bg-yellow-400' : 'bg-slate-600'}`} />\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Quest Details */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n          {/* Main Quest */}\n          <div className=\"lg:col-span-2\">\n            <Card className=\"bg-slate-800/50 border border-cyan-500/50 shadow-xl\">\n              <CardHeader className=\"bg-gradient-to-r from-cyan-900/50 to-blue-900/50\">\n                <CardTitle className=\"flex items-center text-cyan-300\">\n                  <div className=\"w-10 h-10 bg-cyan-500 rounded-lg flex items-center justify-center mr-3\">\n                    <Target className=\"h-5 w-5 text-white\" />\n                  </div>\n                  Main Quest\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"pt-6\">\n                <div className=\"text-white\">\n                  <h4 className=\"font-bold text-lg mb-3 text-cyan-300\">Objective:</h4>\n                  <p className=\"text-slate-200 leading-relaxed mb-4\">Master your chosen subject and achieve academic excellence!</p>\n                  \n                  <div className=\"flex items-center justify-between bg-slate-700/50 rounded-lg p-3\">\n                    <span className=\"text-slate-300\">Quest Progress</span>\n                    <span className=\"text-cyan-400 font-bold\">{readinessLevel}% Ready</span>\n                  </div>\n                  <div className=\"w-full h-3 bg-slate-700 rounded-full mt-2 overflow-hidden\">\n                    <div \n                      className=\"h-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-1000\"\n                      style={{ width: `${readinessLevel}%` }}\n                    />\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Inventory */}\n          <Card className=\"bg-slate-800/50 border border-green-500/50 shadow-xl\">\n            <CardHeader className=\"bg-gradient-to-r from-green-900/50 to-emerald-900/50\">\n              <CardTitle className=\"flex items-center text-green-300\">\n                <div className=\"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center mr-2\">\n                  <FileText className=\"h-4 w-4 text-white\" />\n                </div>\n                Inventory\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"pt-4\">\n              <div className=\"space-y-3\">\n                {/* Course Materials */}\n                {setup.courseFiles && setup.courseFiles.length > 0 && (\n                  <div className=\"flex items-center justify-between p-3 bg-blue-900/30 border border-blue-500/30 rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <BookOpen className=\"h-5 w-5 text-blue-400 mr-3\" />\n                      <div>\n                        <div className=\"text-blue-300 font-medium text-sm\">Study Scrolls</div>\n                        <div className=\"text-blue-400/70 text-xs\">{setup.courseFiles.length} items</div>\n                      </div>\n                    </div>\n                    <Badge className=\"bg-blue-500/20 text-blue-300 border-blue-400/50\">Common</Badge>\n                  </div>\n                )}\n\n                {/* Test Materials */}\n                {setup.testFiles && setup.testFiles.length > 0 && (\n                  <div className=\"flex items-center justify-between p-3 bg-purple-900/30 border border-purple-500/30 rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <FileCheck className=\"h-5 w-5 text-purple-400 mr-3\" />\n                      <div>\n                        <div className=\"text-purple-300 font-medium text-sm\">Test Arsenal</div>\n                        <div className=\"text-purple-400/70 text-xs\">{setup.testFiles.length} items</div>\n                      </div>\n                    </div>\n                    <Badge className=\"bg-purple-500/20 text-purple-300 border-purple-400/50\">Rare</Badge>\n                  </div>\n                )}\n\n                {/* Upcoming Events */}\n                {upcomingDates > 0 && (\n                  <div className=\"flex items-center justify-between p-3 bg-yellow-900/30 border border-yellow-500/30 rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <Calendar className=\"h-5 w-5 text-yellow-400 mr-3\" />\n                      <div>\n                        <div className=\"text-yellow-300 font-medium text-sm\">Active Quests</div>\n                        <div className=\"text-yellow-400/70 text-xs\">{upcomingDates} pending</div>\n                      </div>\n                    </div>\n                    <Badge className=\"bg-yellow-500/20 text-yellow-300 border-yellow-400/50 animate-pulse\">Urgent</Badge>\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Achievements & Action */}\n        <Card className=\"bg-slate-800/50 border border-yellow-500/50 shadow-xl\">\n          <CardContent className=\"p-8\">\n            <div className=\"flex flex-col md:flex-row items-center justify-between gap-6\">\n              <div className=\"flex items-center space-x-6\">\n                <div className=\"relative\">\n                  <div className=\"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center\">\n                    <Award className=\"h-10 w-10 text-white\" />\n                  </div>\n                  <div className=\"absolute -top-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center\">\n                    <Check className=\"h-4 w-4 text-white\" />\n                  </div>\n                </div>\n                <div>\n                  <h3 className=\"text-2xl font-bold text-white mb-2\">Achievement Unlocked!</h3>\n                  <p className=\"text-slate-300 mb-3\">🎯 Master Strategist - Complete project setup</p>\n                  <div className=\"flex items-center space-x-4 text-sm\">\n                    <span className=\"flex items-center text-green-400\">\n                      <Check className=\"h-4 w-4 mr-1\" />\n                      Profile created\n                    </span>\n                    <span className=\"flex items-center text-green-400\">\n                      <Check className=\"h-4 w-4 mr-1\" />\n                      Materials gathered\n                    </span>\n                    <span className=\"flex items-center text-green-400\">\n                      <Check className=\"h-4 w-4 mr-1\" />\n                      Goals set\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"flex flex-col sm:flex-row gap-3\">\n                <Button \n                  variant=\"outline\" \n                  onClick={onBack}\n                  className=\"border-slate-500 text-slate-300 hover:bg-slate-700 hover:text-white\"\n                >\n                  🔧 Modify Build\n                </Button>\n                <Button \n                  onClick={handleCreateProject} \n                  disabled={isSubmitting}\n                  className=\"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-bold px-8 py-3 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200\"\n                >\n                  {isSubmitting ? (\n                    <span className=\"flex items-center\">\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      Entering World...\n                    </span>\n                  ) : (\n                    <span className=\"flex items-center\">\n                      <Rocket className=\"h-4 w-4 mr-2\" />\n                      Begin Adventure!\n                    </span>\n                  )}\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n\n// Add custom CSS for animations\nconst customStyles = `\n@keyframes blob {\n  0% {\n    transform: translate(0px, 0px) scale(1);\n  }\n  33% {\n    transform: translate(30px, -50px) scale(1.1);\n  }\n  66% {\n    transform: translate(-20px, 20px) scale(0.9);\n  }\n  100% {\n    transform: translate(0px, 0px) scale(1);\n  }\n}\n\n.animate-blob {\n  animation: blob 7s infinite;\n}\n\n.animation-delay-2000 {\n  animation-delay: 2s;\n}\n\n.animation-delay-4000 {\n  animation-delay: 4s;\n}\n`;\n\n// Export the styles to be added to your CSS\nexport { customStyles };\n"],"names":["ProjectSummaryColorful","ProjectSummaryGameified","ProjectSummaryGlass","customStyles","setup","onBack","isSubmitting","setIsSubmitting","useState","router","useRouter","authToken","totalFiles","courseFiles","length","testFiles","uploadedFiles","upcomingDates","importantDates","filter","date","Date","handleCreateProject","console","log","courseFileUrls","Promise","all","map","file","uploadFile","testFileUrls","projectData","validateProjectCreateInput","name","projectName","project_type","study_frequency","studyFrequency","important_dates","d","title","description","course_files","test_files","mock_mode","isTestMode","seed_syllabus","seed_tests","seed_content","seed_flashcards","newProject","createProject","push","id","error","div","className","Button","variant","onClick","ChevronLeft","size","Sparkles","span","Card","Rocket","h1","Badge","Star","icon","Calendar","label","value","TIMEFRAME_OPTIONS","find","opt","timeframe","color","Clock","FREQUENCY_OPTIONS","Trophy","TEST_LEVEL_OPTIONS","testLevel","stat","index","CardHeader","CardTitle","GraduationCap","CardContent","Award","h4","p","gradeLevel","GRADE_LEVEL_OPTIONS","assignmentDescription","BookMarked","FileText","BookOpen","slice","formatFileSize","FileCheck","sort","a","b","getTime","dateItem","isUpcoming","type","formatDate","h3","Check","disabled","setupCompletion","readinessLevel","Math","min","style","width","floor","level","Brain","skill","Array","_","i","Target"],"mappings":"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"}