{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/tests/matchers/urlMatchers.ts"],"sourcesContent":["import type { AxiosInstance } from 'axios';\nimport { hasDoubleSlash } from '../utils/url';\n\nfunction getBaseURL(instance: AxiosInstance | { defaults?: any } | undefined): string | undefined {\n  if (!instance) return undefined;\n  const anyInst: any = instance as any;\n  return anyInst?.defaults?.baseURL ?? anyInst?.baseURL;\n}\n\nexport const urlMatchers = {\n  toStartWithApi(received: string) {\n    const pass = typeof received === 'string' && /\\/api\\/?/.test(received);\n    return {\n      pass,\n      message: () => `expected URL to start with \"/api\" but got: ${received}`,\n    };\n  },\n\n  toHaveNoDoubleSlash(received: string) {\n    const pass = typeof received === 'string' && !hasDoubleSlash(received);\n    return {\n      pass,\n      message: () => `expected URL to have no double slashes (except protocol), got: ${received}`,\n    };\n  },\n\n  toBeSameBaseURLAs(received: AxiosInstance, other: AxiosInstance) {\n    const a = getBaseURL(received);\n    const b = getBaseURL(other);\n    const pass = a === b;\n    return {\n      pass,\n      message: () => `expected base URLs to match but got: ${a} != ${b}`,\n    };\n  },\n};\n\nexport type UrlMatchers = typeof urlMatchers;\n\nexport function registerUrlMatchers() {\n  // Jest matchers are automatically registered in test environment\n  // No need to manually extend expect in production build\n}\n\nexport default { registerUrlMatchers };\n\n"],"names":["registerUrlMatchers","urlMatchers","getBaseURL","instance","undefined","anyInst","defaults","baseURL","toStartWithApi","received","pass","test","message","toHaveNoDoubleSlash","hasDoubleSlash","toBeSameBaseURLAs","other","a","b"],"mappings":";;;;;;;;;;;IA4CA,OAAuC;eAAvC;;IALgBA,mBAAmB;eAAnBA;;IA9BHC,WAAW;eAAXA;;;qBARkB;AAE/B,SAASC,WAAWC,QAAwD;IAC1E,IAAI,CAACA,UAAU,OAAOC;IACtB,MAAMC,UAAeF;IACrB,OAAOE,SAASC,UAAUC,WAAWF,SAASE;AAChD;AAEO,MAAMN,cAAc;IACzBO,gBAAeC,QAAgB;QAC7B,MAAMC,OAAO,OAAOD,aAAa,YAAY,WAAWE,IAAI,CAACF;QAC7D,OAAO;YACLC;YACAE,SAAS,IAAM,CAAC,2CAA2C,EAAEH,UAAU;QACzE;IACF;IAEAI,qBAAoBJ,QAAgB;QAClC,MAAMC,OAAO,OAAOD,aAAa,YAAY,CAACK,IAAAA,mBAAc,EAACL;QAC7D,OAAO;YACLC;YACAE,SAAS,IAAM,CAAC,+DAA+D,EAAEH,UAAU;QAC7F;IACF;IAEAM,mBAAkBN,QAAuB,EAAEO,KAAoB;QAC7D,MAAMC,IAAIf,WAAWO;QACrB,MAAMS,IAAIhB,WAAWc;QACrB,MAAMN,OAAOO,MAAMC;QACnB,OAAO;YACLR;YACAE,SAAS,IAAM,CAAC,qCAAqC,EAAEK,EAAE,IAAI,EAAEC,GAAG;QACpE;IACF;AACF;AAIO,SAASlB;AACd,iEAAiE;AACjE,wDAAwD;AAC1D;MAEA,WAAe;IAAEA;AAAoB"}