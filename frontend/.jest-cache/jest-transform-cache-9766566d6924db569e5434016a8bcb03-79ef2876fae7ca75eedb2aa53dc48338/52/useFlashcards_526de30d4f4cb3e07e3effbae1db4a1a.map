{"version":3,"sources":["/Users/jacobhornsvennevik/Documents/GitHub/maRepo_root/frontend/src/features/flashcards/hooks/useFlashcards.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { flashcardApi } from '../services/flashcardApi';\nimport type { \n  Flashcard, \n  FlashcardSet, \n  CreateFlashcardForm, \n  CreateFlashcardSetForm, \n  StudyStats,\n  FlashcardDashboardState,\n  FlashcardCarouselState\n} from '../types';\n\n// Hook for managing flashcard dashboard state\nexport function useFlashcardDashboard(projectId: string) {\n  const [state, setState] = useState<FlashcardDashboardState>({\n    flashcardSets: [],\n    stats: null,\n    loading: true,\n    error: null,\n    searchTerm: '',\n    viewMode: 'grid'\n  });\n\n  const loadFlashcardData = useCallback(async () => {\n    setState(prev => ({ ...prev, loading: true, error: null }));\n    \n    try {\n      console.log('üöÄ Loading flashcard data for project:', projectId);\n      \n      const sets = await flashcardApi.getProjectFlashcardSets(projectId);\n      const stats = await flashcardApi.calculateProjectStats(projectId, sets);\n      \n      setState(prev => ({\n        ...prev,\n        flashcardSets: sets,\n        stats,\n        loading: false\n      }));\n      \n      console.log('‚úÖ Successfully loaded:', { setsCount: sets.length, stats });\n    } catch (error) {\n      console.error('‚ùå Failed to load flashcard data:', error);\n      setState(prev => ({\n        ...prev,\n        error: error instanceof Error ? error.message : 'Failed to load flashcards',\n        loading: false\n      }));\n    }\n  }, [projectId]);\n\n  const createFlashcardSet = useCallback(async (form: CreateFlashcardSetForm) => {\n    try {\n      const newSet = await flashcardApi.createProjectFlashcardSet(projectId, form);\n      if (newSet) {\n        setState(prev => ({\n          ...prev,\n          flashcardSets: [newSet, ...prev.flashcardSets]\n        }));\n      }\n      return newSet;\n    } catch (error) {\n      console.error('‚ùå Failed to create flashcard set:', error);\n      throw error;\n    }\n  }, [projectId]);\n\n  const deleteFlashcardSet = useCallback(async (setId: number) => {\n    try {\n      await flashcardApi.deleteFlashcardSet(setId);\n      setState(prev => ({\n        ...prev,\n        flashcardSets: prev.flashcardSets.filter(set => set.id !== setId)\n      }));\n    } catch (error) {\n      console.error('‚ùå Failed to delete flashcard set:', error);\n      throw error;\n    }\n  }, []);\n\n  const setSearchTerm = useCallback((searchTerm: string) => {\n    setState(prev => ({ ...prev, searchTerm }));\n  }, []);\n\n  const setViewMode = useCallback((viewMode: 'grid' | 'list') => {\n    setState(prev => ({ ...prev, viewMode }));\n  }, []);\n\n  // Filter and sort flashcard sets\n  const filteredAndSortedSets = state.flashcardSets\n    .filter(set => \n      set.title.toLowerCase().includes(state.searchTerm.toLowerCase())\n    )\n    .sort((a, b) => {\n      return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();\n    });\n\n  useEffect(() => {\n    loadFlashcardData();\n  }, [loadFlashcardData]);\n\n  return {\n    ...state,\n    filteredAndSortedSets,\n    loadFlashcardData,\n    createFlashcardSet,\n    deleteFlashcardSet,\n    setSearchTerm,\n    setViewMode\n  };\n}\n\n// Hook for managing flashcard carousel state\nexport function useFlashcardCarousel(setId: number, projectId?: string, initialFlashcards?: Flashcard[]) {\n  const [state, setState] = useState<FlashcardCarouselState>({\n    currentIndex: 0,\n    showAnswer: false,\n    isFlipped: false,\n    isLoading: true,\n    error: null\n  });\n\n  const [flashcards, setFlashcards] = useState<Flashcard[]>(initialFlashcards || []);\n\n  const loadFlashcards = useCallback(async () => {\n    // If we already have initial flashcards (e.g., from mock data), use those\n    if (initialFlashcards && initialFlashcards.length > 0) {\n      console.log('üöÄ Using provided flashcards for set:', setId);\n      setFlashcards(initialFlashcards);\n      setState(prev => ({ ...prev, isLoading: false }));\n      console.log('‚úÖ Loaded flashcards from props:', { count: initialFlashcards.length });\n      return;\n    }\n\n    setState(prev => ({ ...prev, isLoading: true, error: null }));\n    \n    try {\n      console.log('üöÄ Loading flashcards for set:', setId, 'project:', projectId);\n      const cards = await flashcardApi.getFlashcards(setId, projectId);\n      setFlashcards(cards);\n      setState(prev => ({ ...prev, isLoading: false }));\n      console.log('‚úÖ Successfully loaded flashcards:', { count: cards.length });\n    } catch (error) {\n      console.error('‚ùå Failed to load flashcards:', error);\n      setState(prev => ({\n        ...prev,\n        error: error instanceof Error ? error.message : 'Failed to load flashcards',\n        isLoading: false\n      }));\n    }\n  }, [setId, projectId, initialFlashcards]);\n\n  const nextCard = useCallback(() => {\n    if (flashcards.length === 0) return;\n    setState(prev => ({\n      ...prev,\n      currentIndex: (prev.currentIndex + 1) % flashcards.length,\n      showAnswer: false,\n      isFlipped: false\n    }));\n  }, [flashcards.length]);\n\n  const prevCard = useCallback(() => {\n    if (flashcards.length === 0) return;\n    setState(prev => ({\n      ...prev,\n      currentIndex: prev.currentIndex === 0 ? flashcards.length - 1 : prev.currentIndex - 1,\n      showAnswer: false,\n      isFlipped: false\n    }));\n  }, [flashcards.length]);\n\n  const goToCard = useCallback((index: number) => {\n    if (index < 0 || index >= flashcards.length) return;\n    setState(prev => ({\n      ...prev,\n      currentIndex: index,\n      showAnswer: false,\n      isFlipped: false\n    }));\n  }, [flashcards.length]);\n\n  const flipCard = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      showAnswer: !prev.showAnswer,\n      isFlipped: !prev.isFlipped\n    }));\n  }, []);\n\n  const createFlashcard = useCallback(async (form: CreateFlashcardForm) => {\n    try {\n      const newCard = await flashcardApi.createFlashcard(setId, form);\n      if (newCard) {\n        setFlashcards(prev => [...prev, newCard]);\n        // Navigate to the new card\n        goToCard(flashcards.length);\n      }\n      return newCard;\n    } catch (error) {\n      console.error('‚ùå Failed to create flashcard:', error);\n      throw error;\n    }\n  }, [setId, flashcards.length, goToCard]);\n\n  const updateFlashcard = useCallback(async (cardId: number, form: Partial<CreateFlashcardForm>) => {\n    try {\n      const updatedCard = await flashcardApi.updateFlashcard(cardId, form);\n      if (updatedCard) {\n        setFlashcards(prev => \n          prev.map(card => card.id === cardId ? updatedCard : card)\n        );\n      }\n      return updatedCard;\n    } catch (error) {\n      console.error('‚ùå Failed to update flashcard:', error);\n      throw error;\n    }\n  }, []);\n\n  const deleteFlashcard = useCallback(async (cardId: number) => {\n    try {\n      await flashcardApi.deleteFlashcard(cardId);\n      setFlashcards(prev => prev.filter(card => card.id !== cardId));\n      \n      // Adjust current index if needed\n      setState(prev => {\n        const newIndex = prev.currentIndex >= flashcards.length - 1 \n          ? Math.max(0, flashcards.length - 2) \n          : prev.currentIndex;\n        return { ...prev, currentIndex: newIndex };\n      });\n    } catch (error) {\n      console.error('‚ùå Failed to delete flashcard:', error);\n      throw error;\n    }\n  }, [flashcards.length]);\n\n  const markCardReviewed = useCallback(async (wasCorrect: boolean) => {\n    const currentCard = flashcards[state.currentIndex];\n    if (!currentCard) return;\n\n    try {\n      await flashcardApi.markCardReviewed(currentCard.id, wasCorrect);\n      // Update the card's review data\n      setFlashcards(prev => \n        prev.map(card => \n          card.id === currentCard.id \n            ? { \n                ...card, \n                total_reviews: card.total_reviews + 1,\n                correct_reviews: card.correct_reviews + (wasCorrect ? 1 : 0),\n                last_reviewed: new Date().toISOString()\n              }\n            : card\n        )\n      );\n    } catch (error) {\n      console.error('‚ùå Failed to mark card reviewed:', error);\n      throw error;\n    }\n  }, [flashcards, state.currentIndex]);\n\n  useEffect(() => {\n    loadFlashcards();\n  }, [loadFlashcards]);\n\n  return {\n    ...state,\n    flashcards,\n    currentCard: flashcards[state.currentIndex],\n    totalCards: flashcards.length,\n    nextCard,\n    prevCard,\n    goToCard,\n    flipCard,\n    createFlashcard,\n    updateFlashcard,\n    deleteFlashcard,\n    markCardReviewed,\n    reload: loadFlashcards\n  };\n}\n\n// Hook for keyboard navigation\nexport function useFlashcardKeyboardNavigation(\n  onNext: () => void,\n  onPrev: () => void,\n  onFlip: () => void,\n  onCorrect: () => void,\n  onIncorrect: () => void\n) {\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      switch (event.key) {\n        case 'ArrowRight':\n        case ' ':\n          event.preventDefault();\n          onNext();\n          break;\n        case 'ArrowLeft':\n          event.preventDefault();\n          onPrev();\n          break;\n        case 'Enter':\n        case 'f':\n          event.preventDefault();\n          onFlip();\n          break;\n        case '1':\n        case 'y':\n          event.preventDefault();\n          onCorrect();\n          break;\n        case '2':\n        case 'n':\n          event.preventDefault();\n          onIncorrect();\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [onNext, onPrev, onFlip, onCorrect, onIncorrect]);\n}\n\n"],"names":["useFlashcardCarousel","useFlashcardDashboard","useFlashcardKeyboardNavigation","projectId","state","setState","useState","flashcardSets","stats","loading","error","searchTerm","viewMode","loadFlashcardData","useCallback","prev","console","log","sets","flashcardApi","getProjectFlashcardSets","calculateProjectStats","setsCount","length","Error","message","createFlashcardSet","form","newSet","createProjectFlashcardSet","deleteFlashcardSet","setId","filter","set","id","setSearchTerm","setViewMode","filteredAndSortedSets","title","toLowerCase","includes","sort","a","b","Date","created_at","getTime","useEffect","initialFlashcards","currentIndex","showAnswer","isFlipped","isLoading","flashcards","setFlashcards","loadFlashcards","count","cards","getFlashcards","nextCard","prevCard","goToCard","index","flipCard","createFlashcard","newCard","updateFlashcard","cardId","updatedCard","map","card","deleteFlashcard","newIndex","Math","max","markCardReviewed","wasCorrect","currentCard","total_reviews","correct_reviews","last_reviewed","toISOString","totalCards","reload","onNext","onPrev","onFlip","onCorrect","onIncorrect","handleKeyDown","event","key","preventDefault","window","addEventListener","removeEventListener"],"mappings":"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"}